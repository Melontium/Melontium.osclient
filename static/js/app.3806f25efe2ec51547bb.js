!function(e){function t(t){for(var n,i,s=t[0],u=t[1],l=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;o.push(["Vtdi",1]),r()}({"+gRR":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=n(r("8jTM")),i=n(r("J8r6")),s=n(r("aG/g"));r("5H+A"),r("eWlR");var u=n(r("6eeg")),l=n(r("7Qib")),c=n(r("Kvkj"));a.default.config.productionTip=!1;var d=function(){return Promise.resolve({client:{modules:[u.default]}})};void 0===window.farmOS&&(window.farmOS={}),window.farmOS.utils=l.default,c.default.forEach((function(e){a.default.component(e.name,e)}));t.default=function(e,t){return void 0!==t&&t.length>0&&t.forEach((function(e){return a.default.use(e,{store:i.default,router:o.default})})),d().then((function(e){return e.client.modules.forEach((function(e){var t=document.createElement("script");t.src=e.index,t.id="field-module-".concat(e.name),t.type="module",t.async=!0,t.onload=function(){return a.default.use({install:window["install".concat(e.name)]},{store:i.default,router:o.default})},t.onerror=function(){return console.error("Error installing ".concat(e.name," module"))},document.body.appendChild(t)}))})),new a.default({el:e,store:i.default,router:o.default,components:{App:s.default},template:"<App/>"})}},"+klp":function(e,t,r){"use strict";r.r(t);var n=r("HV0o"),a=r("+s+j");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},"+mU5":function(e,t,r){"use strict";r.r(t);var n=r("ONIP"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"+r5b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e)return"";var t=document.createElement("div");return t.innerHTML=e.value,t.textContent||t.innerText||""}},"+s+j":function(e,t,r){"use strict";r.r(t);var n=r("QZZV"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"+swM":function(e,t,r){"use strict";var n=r("vaye");r.n(n).a},"+t6u":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeGeometries=function(e){var t=e.filter((function(e){return!!e}));if(0===t.length)return"";if(1===t.length)return t[0];var r=t.map(n.parse),a=r.reduce((function(e,t){if(!t)return e;if("GeometryCollection"!==t.type)return e.geometries.some((function(e){return o(e,t)}))?e:{type:"GeometryCollection",geometries:e.geometries.concat(t)};var r=t.geometries.filter((function(t){return!e.geometries.some((function(e){return o(e,t)}))}));return{type:"GeometryCollection",geometries:e.geometries.concat(r)}}),{type:"GeometryCollection",geometries:[]});return(0,n.stringify)(a)},t.removeGeometry=function(e,t){if(!e||"GEOMETRYCOLLECTION EMPTY"===e)return"";if(!t||"GEOMETRYCOLLECTION EMPTY"===t)return e;var r=(0,n.parse)(e),a=(0,n.parse)(t);if("GeometryCollection"!==r.type&&"GeometryCollection"!==a.type)return o(r,a)?"":e;if("GeometryCollection"===r.type&&"GeometryCollection"!==a.type){var i={type:"GeometryCollection",geometries:r.geometries.filter((function(e){return!o(e,a)}))};return i.geometries.length>0?(0,n.stringify)(i):""}if("GeometryCollection"===r.type&&"GeometryCollection"===a.type){var s={type:"GeometryCollection",geometries:r.geometries.filter((function(e){return!a.geometries.some((function(t){return o(e,t)}))}))};return s.geometries.length>0?(0,n.stringify)(s):""}if("GeometryCollection"!==r.type&&"GeometryCollection"===a.type){return a.geometries.some((function(e){return o(r,e)}))?"":e}throw new Error("Format(s) not recognized as valid WKT.")},t.isNearby=function(e,t,r){var o="string"==typeof t?(0,n.parse)(t):t,i=["GeometryCollection","MultiPoint","MultiLineString","MultiPolygon"].includes(o.type)?(0,a.bboxPolygon)((0,a.bbox)(o)).geometry:o;if((0,a.booleanContains)(i,{type:"Point",coordinates:e}))return!0;var s=(0,a.circle)(e,r,{units:"meters"});if("Polygon"===i.type)return(0,a.booleanOverlap)(s,i);if("LineString"===i.type)return(0,a.booleanCrosses)(s,i);if("Point"===i.type)return(0,a.booleanContains)(s,i);throw new TypeError("Check that the shape parameter is properly formatted WKT or GeoJSON")};var n=r("Mkpm"),a=r("WVt+");function o(e,t){return JSON.stringify(e.coordinates)===JSON.stringify(t.coordinates)}},"/kra":function(e,t,r){"use strict";r.r(t);var n=r("393e"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"/wD4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconRaindrops"}},"01Bq":function(e,t,r){"use strict";r.r(t);var n=r("/wD4"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"07RZ":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label",attrs:{for:"search"}},[e._v(e._s(e.label))]),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter text to search",type:"text"},domProps:{value:e.search},on:{focus:e.openResults,input:function(t){return e.doSearch(t.target.value)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrowDown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrowUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)}]}}),e._v(" "),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen&&e.search.length>0,expression:"isOpen && search.length > 0"}],staticClass:"list-group search-results"},[0===e.searchResults.length?r("li",{staticClass:"list-group-item empty"},[e._t("empty",[e._v("No Results")])],2):e._l(e.searchResults,(function(t,n){return r("li",{key:"result-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item",class:{"is-active":n===e.counter},on:{click:function(r){return e.selectSearchResult(t[e.searchId])}}},[e._v("\n      "+e._s(t[e.searchKey])+"\n    ")])}))],2)])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"0MDe":function(e,t,r){},"0VQf":function(e,t,r){"use strict";r.r(t);var n=r("UiWD"),a=r("PoNo");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("qF9E");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"693d47c4",null);t.default=s.exports},"0caO":function(e,t,r){"use strict";r.r(t);var n=r("CLyY"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"0xFA":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={methods:{openWeather:function(){this.$router.push({path:"/weather"})}}}},"0zHl":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M22 11h-4.17l3.24-3.24-1.41-1.42L15 11h-2V9l4.66-4.66-1.42-1.41L13 6.17V2h-2v4.17L7.76 2.93 6.34 4.34 11 9v2H9L4.34 6.34 2.93 7.76 6.17 11H2v2h4.17l-3.24 3.24 1.41 1.42L9 13h2v2l-4.66 4.66 1.42 1.41L11 17.83V22h2v-4.17l3.24 3.24 1.42-1.41L13 15v-2h2l4.66 4.66 1.41-1.42L17.83 13H22z"}}),t("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"1Qpu":function(e,t,r){"use strict";var n=r("dpBA");r.n(n).a},"1p3d":function(e,t,r){"use strict";r.r(t);var n=r("YTVw"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"28sl":function(e,t,r){"use strict";var n=r("7WWM");r.n(n).a},"2A+E":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"AllLogsMenuBar"}},"33J1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconMoreVert"}},"393e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e<10?"0".concat(e):e},a={name:"FarmDateTimeForm",props:["timestamp"],data:function(){return{time:{date:"",hour:"12",minute:"00",am:!0}}},created:function(){this.time.date=this.unixToDateString(this.timestamp);var e=new Date(1e3*this.timestamp),t=e.getHours();this.time.hour=12===t||24===t?12:n(t%12),this.time.minute=n(e.getMinutes()),this.time.am=t<12},methods:{unixToDateString:function(e){var t=new Date(1e3*e),r=n(t.getMonth()+1),a=n(t.getDate());return"".concat(t.getFullYear(),"-").concat(r,"-").concat(a)},dateAndTimeToUnix:function(e,t,r,n){var a,o=+e.split("-")[0],i=+e.split("-")[1]-1,s=+e.split("-")[2];return a=n&&12==+t?0:n||12==+t?+t:+t+12,o>1970?Math.floor(new Date(o,i,s,a,r).getTime()/1e3).toString():this.timestamp.toString()},updateDate:function(e){if(e){var t=this.dateAndTimeToUnix(e,this.time.hour,this.time.minute,this.time.am);this.$emit("input",t)}},updateHour:function(e){var t=this.dateAndTimeToUnix(this.time.date,e,this.time.minute,this.time.am);this.$emit("input",t)},updateMinute:function(e){var t=this.dateAndTimeToUnix(this.time.date,this.time.hour,e,this.time.am);this.$emit("input",t)},updateAmPm:function(e){var t=this.dateAndTimeToUnix(this.time.date,this.time.hour,this.time.minute,e);this.$emit("input",t)}},watch:{timestamp:function(e){this.time.date=this.unixToDateString(e);var t=new Date(1e3*e),r=t.getHours();this.time.hour=12===r||24===r?12:n(r%12),this.time.minute=n(t.getMinutes()),this.time.am=r<12}}};t.default=a},"3YJH":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={name:"Weather",data:function(){return{currentLogID:null,time:{date:null,hour:null,minute:null,am:!0}}},props:["logs","units","categories","systemOfMeasurement"],created:function(){this.$store.dispatch("updateUnits"),this.$store.dispatch("updateCategories")},computed:{currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===e.currentLogID}))},weatherTid:function(){return this.categories.find((function(e){return"Weather"===e.name})).tid},unitName:function(){return"us"===this.systemOfMeasurement?"inches":"centimeters"},unitAbbr:function(){return"us"===this.systemOfMeasurement?"in":"cm"},unitTid:function(){var e=this;return this.units.find((function(t){return t.name===e.unitName})).tid}},methods:{createWeatherLog:function(){var e=this;this.$store.dispatch("initializeLog",{type:"farm_observation",log_category:[{id:this.weatherTid}],quantity:[{measure:"length",value:0,unit:{id:this.unitTid},label:"rain"}],done:!0}).then((function(t){e.currentLogID=t}))},updateCurrentLog:function(e,t){var r,n=(r={},(0,a.default)(r,e,t),(0,a.default)(r,"localID",this.currentLogID),r);this.$store.dispatch("updateLog",n)},updateNotes:function(e){this.updateCurrentLog("notes",{value:e,format:"farm_format"})},updateQuantity:function(e,t){var r=[i({},this.currentLog.quantity[0],(0,a.default)({},e,t))];this.updateCurrentLog("quantity",r)},unixToDateString:function(e){var t=new Date(1e3*e),r=function(e){return e<10?"0".concat(e):e},n=r(t.getMonth()+1),a=r(t.getDate());return"".concat(t.getFullYear(),"-").concat(n,"-").concat(a)},dateStringToUnix:function(e){var t=+e.split("-")[0],r=+e.split("-")[1]-1,n=+e.split("-")[2];return Math.floor(new Date(t,r,n).getTime()/1e3).toString()},parseNotes:window.farmOS.utils.parseNotes}};t.default=s},"3sS4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"EditMapMenuBar",props:["logs","id"],computed:{logLink:function(){return{name:"edit-log",params:{id:this.id,tab:"SECOND"}}}}}},"4JU/":function(e,t,r){"use strict";var n=r("WnpN");r.n(n).a},"4zNT":function(e,t,r){"use strict";r.r(t);var n=r("MV/R"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"5FK+":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("9TKf")),o=n(r("fDWo")),i=n(r("InZg")),s=n(r("hdPq")),u=n(r("efym")),l=n(r("RmFW")),c={version:4,name:"farmos",stores:[{name:"logs",keyPath:"localID",autoIncrement:!1,upgrades:a.default},{name:"assets",keyPath:"id",autoIncrement:!1,upgrades:o.default},{name:"areas",keyPath:"tid",autoIncrement:!1,upgrades:i.default},{name:"units",keyPath:"tid",autoIncrement:!1,upgrades:s.default},{name:"categories",keyPath:"tid",autoIncrement:!1,upgrades:u.default},{name:"equipment",keyPath:"id",autoIncrement:!1,upgrades:l.default}]};t.default=c},"5H+A":function(e,t,r){},"6+MM":function(e,t,r){},"61Oz":function(e,t,r){"use strict";r.r(t);var n=r("3YJH"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"6Aep":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={methods:{openMyLogs:function(){this.$router.push({path:"/logs"})},openFilter:function(){this.$router.push({name:"filter-logs"})}}}},"6eeg":function(e){e.exports=JSON.parse('{"name":"Test","index":"http://127.0.0.1:8887/index.js","menu-items":[{}]}')},"6nSO":function(e,t,r){"use strict";r.r(t);var n=r("98m3"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"6o79":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"7Qib":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("8hbF")),o=r("+t6u"),i=n(r("+r5b")),s=n(r("LWf6")),u={farmLog:a.default,mergeGeometries:o.mergeGeometries,removeGeometry:o.removeGeometry,isNearby:o.isNearby,parseNotes:i.default,createFieldModule:s.default};t.default=u},"7WWM":function(e,t,r){},"7bQ/":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"7jSd":function(e,t,r){"use strict";r.r(t);var n=r("pXyp"),a=r("61Oz");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("obQl");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},"7sLs":function(e,t,r){"use strict";r.r(t);var n=r("UL9d"),a=r("WuNT");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},"84RJ":function(e,t,r){"use strict";r.r(t);var n=r("OKhj"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"8BJ8":function(e,t,r){},"8HxT":function(e,t,r){"use strict";r.r(t);var n=r("7bQ/"),a=r("EF7A");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},"8hbF":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("J4zp"));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e,t){return{createLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Math.floor(Date.now()/1e3),n={changed:r,data:t.name||"",conflicts:[]},a={changed:r,data:t.type||"farm_activity",conflicts:[]},i={changed:r,data:t.timestamp||r,conflicts:[]},u={changed:r,data:t.done||!1,conflicts:[]},l=t.localID,c=void 0===l?null:l,d=t.isCachedLocally,f=void 0!==d&&d,m=t.wasPushedToServer,v=void 0!==m&&m,p=t.isReadyToSync,h=void 0!==p&&p,g=t.modules,y=void 0===g?[]:g,b=e[a.data].fields,_=Object.entries(b).map((function(e){var n=(0,o.default)(e,2),a=n[0],i=n[1].default_value,s=t[a]||i;return[a,{changed:r,data:s,conflicts:[]}]}));return s({},Object.fromEntries(_),{name:n,type:a,timestamp:i,done:u,localID:c,isCachedLocally:f,wasPushedToServer:v,isReadyToSync:h,modules:y})},updateLog:function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Math.floor(Date.now()/1e3),i=function(e,r){var o;return void 0!==n[e]?{changed:a,data:n[e],conflicts:t[e].conflicts||[]}:void 0!==(null===(o=t[e])||void 0===o?void 0:o.data)?{changed:t[e].changed,data:t[e].data,conflicts:t[e].conflicts||[]}:{changed:a,data:r,conflicts:[]}},u=i("name",""),l=i("type","farm_activity"),c=i("timestamp",a),d=i("done",!1),f=null===(r=e[l.data])||void 0===r?void 0:r.fields,m=f?Object.entries(f):Object.entries(t),v=m.map((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1].default_value;return[r,i(r,void 0===n?null:n)]})),p=function(e,r){return void 0!==n[e]?n[e]:void 0!==t[e]?t[e]:r};return s({},Object.fromEntries(v),{name:u,type:l,timestamp:c,done:d,url:n.url||t.url,id:n.id||t.id,localID:n.localID||t.localID,isCachedLocally:p("isCachedLocally",!1),wasPushedToServer:p("wasPushedToServer",!1),isReadyToSync:p("isReadyToSync",!1),modules:n.modules||t.modules||[]})},formatLogForServer:function(t){var r,n=Math.floor(Date.now()/1e3),a=function(e,r){return void 0!==t[e].data?t[e].data:r},i=a("name",""),u=a("type","farm_activity"),l=a("timestamp",n),c=a("done",!1),d=null===(r=e[u])||void 0===r?void 0:r.fields,f=(d?Object.entries(d):Object.entries(t)).map((function(e){var r=(0,o.default)(e,2),n=r[0],i=r[1].default_value,s=void 0===i?null:i;return[n,"notes"===n&&null===t.notes.data?{value:"",format:"farm_format"}:a(n,s)]})),m=s({},Object.fromEntries(f),{name:i,type:u,timestamp:l,done:c});return t.id&&(m.id=t.id),m},mergeLogFromServer:function(r,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Math.floor(Date.now()/1e3);r.changed=+r.changed,r.timestamp=+r.timestamp,r.done=+r.done;var l=n?function(e,a){return void 0!==i[e]?{changed:u,data:i[e],conflicts:n[e].conflicts}:r.changed>n[e].changed&&n.wasPushedToServer?{changed:r.changed,data:r[e],conflicts:n[e].conflicts}:r.changed<n[e].changed||t>n[e].changed?{changed:n[e].changed,data:n[e].data,conflicts:n[e].conflicts}:r.changed>n[e].changed&&!n.wasPushedToServer?{changed:n[e].changed,data:n[e].data,conflicts:n[e].conflicts.concat([{changed:r.changed,data:r[e]}])}:{changed:n[e].changed||u,data:n[e].data||a,conflicts:n[e].conflicts||[]}}:function(e,t){return r[e]?{changed:u,data:i[e]||r[e],conflicts:[]}:{changed:u,data:t,conflicts:[]}},c=l("name",""),d=l("type","farm_activity"),f=l("timestamp",u),m=l("done",!1),v=null===(a=e[d.data])||void 0===a?void 0:a.fields,p=v?Object.entries(v):Object.entries(r),h=p.map((function(e){var t=(0,o.default)(e,2),n=t[0],a=t[1],i=a.default_value;return"text_long"===a.type&&Array.isArray(r[n])&&(r[n]=null),[n,l(n,i)]})),g=function(e,t){return void 0!==i[e]?i[e]:n&&void 0!==n[e]?n[e]:t};return s({},Object.fromEntries(h),{name:c,type:d,timestamp:f,done:m,localID:null==n?void 0:n.localID,url:r.url,id:r.id,isCachedLocally:g("isCachedLocally",!1),wasPushedToServer:g("wasPushedToServer",!0),isReadyToSync:g("isReadyToSync",!1),modules:g("modules",[])})}}};t.default=u},"8jGb":function(e,t,r){"use strict";r.r(t);var n=r("xSU/"),a=r("S9cH");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("RdWB");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"1ae6869a",null);t.default=s.exports},"8jTM":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=n(r("jE9Z")),i=n(r("ZTW0")),s=n(r("kS0b")),u=n(r("yVfK")),l=n(r("E0Mi"));a.default.use(o.default);var c=new o.default({routes:[{path:"/",redirect:"/logs"},{path:"/login",name:"Login",component:i.default},{path:"/logout",name:"Logout",component:s.default},{path:"/homescreen",name:"Homescreen",components:{default:u.default,menubar:l.default}}]});c.beforeEach((function(e,t,r){"/login"===t.path&&"/logout"===e.path&&r("/"),r()}));var d=c;t.default=d},"8pOr":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("cDf5")),i=[function(e,t){var r=t.logTypes;if(!e.name.data){var n=new Date(1e3*e.timestamp.data),a=n.toLocaleDateString(),o=n.toLocaleTimeString(void 0,{timeStyle:"short",hour12:!1});return{syncable:!0,updateProps:{name:"".concat(r[e.type.data].label," ").concat(a," - ").concat(o)}}}return{syncable:!0}},function(e){return Number.isNaN(Number(e.timestamp.data))?{syncable:!1,reason:"Every log must have a valid date field."}:{syncable:!0}},function(e,t){var r=t.logTypes[e.type.data];return Object.entries(r.fields).reduce((function(t,n){var i,s=t.syncable,u=t.reason,l=(0,a.default)(n,2),c=l[0],d=l[1],f=d.required,m=d.label;return f&&(!(i=e[c].data)||Array.isArray(i)&&i.length<1||"object"===(0,o.default)(i)&&Object.values(i).length<1)?{syncable:!1,reason:"".concat(u).concat(r.label," logs must have a value in the ").concat(m," field. ")}:{syncable:s,reason:u}}),{syncable:!0,reason:""})}];t.default=i},"8tXL":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconSpinner"}},"98m3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"Login",data:function(){return{valuesEntered:!1,authPending:!1,username:"",password:"",farmosUrl:""}},methods:{checkValues:function(){var e=""!==this.username,t=""!==this.username,r=""!==this.password;e&&t&&r&&(this.valuesEntered=!0)},submitCredentials:function(){var e=this,t={farmosUrl:this.farmosUrl,username:this.username,password:this.password,router:this.$router};this.authPending=!0,this.$store.dispatch("didSubmitCredentials",t).then((function(){e.authPending=!1,e.$store.commit("setLoginStatus",!0),e.$store.dispatch("updateUserAndSiteInfo")}))},onDeviceReady:function(){this.loadUserInfo()},loadUserInfo:function(){this.farmosUrl=window.localStorage.getItem("host").replace(/(^\w+:|^)\/\//,""),this.username=window.localStorage.getItem("username"),this.password=window.localStorage.getItem("password"),this.checkValues()}},created:function(){document.addEventListener("deviceready",this.onDeviceReady(),!1),this.loadUserInfo()}};t.default=n},"99/3":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("RIqP")),o=r("L2JU"),i={name:"FarmMap",data:function(){return{map:{},layers:{wkt:null,geojson:null,mapbox:null},defaultStyles:{height:"100vw"}}},props:{id:String,overrideStyles:Object,drawing:Boolean,options:{type:Object,controls:[Boolean,Array,Function],interactions:[Boolean,Array,Function],units:String,default:function(){return{controls:!0,interactions:!0,units:"us"}}},wkt:{type:Array,validator:function(e){return e.every((function(e){return!("string"!=typeof e.title||"string"!=typeof e.wkt&&e.wkt||"string"!=typeof e.color||e.visible&&"boolean"!=typeof e.visible||"number"!=typeof e.weight||"boolean"!=typeof e.canEdit)}))}},geojson:{title:String,url:String,color:String,visible:Boolean}},computed:(0,o.mapState)({mapboxAPIKey:function(e){return e.shell.mapboxAPIKey}}),mounted:function(){var e=this;this.map=window.farmOS.map.create(this.id,this.options),this.geojson.url&&(this.layers.geojson=this.map.addLayer("geojson",this.geojson));var t=!1,r=this.wkt.map((function(e){return e.wkt&&"GEOMETRYCOLLECTION EMPTY"!==e.wkt?e.weight:99}));if(this.wkt.forEach((function(n){!e.drawing&&n.wkt&&"GEOMETRYCOLLECTION EMPTY"!==n.wkt&&(e.layers[n.title]=e.map.addLayer("wkt",n),n.weight===Math.min.apply(Math,(0,a.default)(r))&&e.map.zoomToLayer(e.layers[n.title]),t=!0),e.drawing&&n.wkt&&"GEOMETRYCOLLECTION EMPTY"!==n.wkt&&(n.weight===Math.min.apply(Math,(0,a.default)(r))&&n.canEdit?(e.layers[n.title]=e.map.addLayer("wkt",n),e.map.zoomToLayer(e.layers[n.title]),e.map.addBehavior("edit",{layer:e.layers[n.title]}),e.map.addBehavior("measure",{layer:e.layers[n.title]})):n.weight===Math.min.apply(Math,(0,a.default)(r))?(e.layers[n.title]=e.map.addLayer("wkt",n),e.map.zoomToLayer(e.layers[n.title])):e.layers[n.title]=e.map.addLayer("wkt",n),t=!0)})),this.drawing&&this.map.edit&&(this.map.edit.wktOn("drawend",(function(t){e.$emit("update-wkt",t)})),this.map.edit.wktOn("modifyend",(function(t){e.$emit("update-wkt",t)})),this.map.edit.wktOn("translateend",(function(t){e.$emit("update-wkt",t)})),this.map.edit.wktOn("delete",(function(t){e.$emit("update-wkt",t)}))),t||this.layers.geojson.getSource().once("change",(function(){e.map.zoomToVectors()})),this.mapboxAPIKey){var n={title:"MapBox Satellite",url:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=".concat(this.mapboxAPIKey),group:"Base layers",base:!0,visible:!0};this.layers.mapbox=this.map.addLayer("xyz",n)}},beforeDestroy:function(){window.farmOS.map.destroy(this.id),this.map=null},watch:{wkt:{handler:function(e){var t=this;if(!this.drawing){var r=!1,n=e.map((function(e){return e.wkt&&"GEOMETRYCOLLECTION EMPTY"!==e.wkt?e.weight:99}));e.forEach((function(e){t.layers[e.title]&&(t.map.map.removeLayer(t.layers[e.title]),t.layers[e.title]=null),e.wkt&&"GEOMETRYCOLLECTION EMPTY"!==e.wkt&&(t.layers[e.title]=t.map.addLayer("wkt",e),e.weight===Math.min.apply(Math,(0,a.default)(n))&&(t.map.zoomToLayer(t.layers[e.title]),r=!0))})),r||this.map.zoomToVectors()}},deep:!0}}};t.default=i},"9IKZ":function(e,t,r){"use strict";r.r(t);var n=r("uw+V"),a=r("B/5b");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("1Qpu");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"1398bb40",null);t.default=s.exports},"9TKf":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("logs",{keyPath:"local_id",autoIncrement:!0}),t()}catch(e){r(e)}}))}},{version:2,onUpgrade:function(e){var t=e.target.result,r=e.target.transaction.objectStore("logs"),n=t.createObjectStore("logs-temp",{keyPath:"localID",autoIncrement:!1});return new Promise((function(e,t){var n=r.getAll();n.onsuccess=function(t){var r=t.target.result.map((function(e){var t=i({},e,{localID:e.local_id,modules:["my-logs"]});return delete t.local_id,t}));e(r)},n.onerror=t})).then((function(e){return Promise.all(e.map((function(e){return new Promise((function(t,r){var a=n.put(e);a.onsuccess=t,a.onerror=r}))})))})).then((function(){t.deleteObjectStore("logs"),n.name="logs"}))}},{version:3,onUpgrade:function(e){var t=function(e,t){return"string"==typeof t&&/^[-+]?(\d+|Infinity)$/.test(t)?+t:t},r=e.target.transaction.objectStore("logs");return new Promise((function(e,n){var a=r.getAll();a.onsuccess=function(r){var n=r.target.result.map((function(e){return function(e){return JSON.parse(JSON.stringify(e),t)}(i({},e,{url:e.remoteUri,notes:{data:{value:e.notes.data,format:"farm_format"},changed:e.notes.changed}}))}));e(n)},a.onerror=n})).then((function(e){return Promise.all(e.map((function(e){return new Promise((function(t,n){var a=r.put(e);a.onsuccess=t,a.onerror=n}))})))}))}}];t.default=s},"9Urz":function(e,t,r){"use strict";r.r(t);var n=r("XF8I"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"9n8D":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"FarmDrawerList"}},A9jg:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("farm-menu-bar",{attrs:{more:!1},scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("li",{on:{click:function(t){return e.$emit("toggleDrawer")}}},[r("icon-menu")],1),e._v(" "),r("li",[e._v("Home")])]},proxy:!0}])})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"B/5b":function(e,t,r){"use strict";r.r(t);var n=r("FXCA"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},BLFd:function(e,t,r){"use strict";var n=r("maL5");r.n(n).a},Blcz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"EditLogsMenuBar",props:["logs","id"],computed:{currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===+e.id}))||this.logs[0]}}}},CLyY:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconFilter"}},CN6I:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.openDatabase=function(){return new Promise((function(e,t){var r=indexedDB.open(o.default.name,o.default.version);r.onerror=function(e){return t(e.target.error)},r.onsuccess=function(){return e(r.result)},r.onupgradeneeded=function(e){return o.default.stores.map((function(t){return t.upgrades.reduce((0,i.filterAndSort)(e.oldVersion),[])})).forEach((function(t){return(0,i.runUpgrades)(e)(t)}))}}))},t.getRecords=function(e,t,r){return new Promise((function(n,a){var o=e.transaction(t,"readonly").objectStore(t);if(r){var i=o.openCursor(),s=[];i.onerror=function(e){return a(e)},i.onsuccess=function(e){var t=e.target.result;t?(r(t.value)&&s.push(t.value),t.continue()):n(s)}}else{var u=o.getAll();u.onerror=function(e){return a(e.target.error)},u.onsuccess=function(e){return n(e.target.result)}}}))},t.saveRecord=function(e,t,r){return new Promise((function(n,a){var o=e.transaction(t,"readwrite").objectStore(t).put(r);o.onerror=function(e){return a(new Error(e.target.error))},o.onsuccess=function(e){return n(e.target.result)}}))},t.deleteRecord=function(e,t,r){return new Promise((function(n,a){var o=e.transaction(t,"readwrite").objectStore(t).delete(r);o.onsuccess=function(e){return n(e.target.result)},o.onerror=function(e){return a(e.target.error)}}))},t.clearStore=function(e,t){return new Promise((function(r,n){var a=e.transaction(t,"readwrite").objectStore(t).clear();a.onsuccess=function(e){return r(e.target.result)},a.onerror=function(e){return n(e.target.error)}}))},t.generateLocalID=function(e,t){var r=1;return new Promise((function(n,a){var o=e.transaction(t,"readonly").objectStore(t).openCursor(null,"prevunique");o.onerror=function(e){return a(new Error(e.target.erorr))},o.onsuccess=function(e){if(!(r>1)){var a,o=e.target.result;o?(o.continue(),a=u[t]>o.value.localID?u[t]+1:o.value.localID+1):a=u[t]+1,u[t]=a,r+=1,n(a)}}}))};var a=n(r("lSNA")),o=n(r("5FK+")),i=r("yI/5");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u=o.default.stores.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,(0,a.default)({},t.name,0))}),{})},CV7x:function(e,t,r){"use strict";r.r(t);var n=r("cKtl"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},CwT7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconMenu"}},CyCD:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticStyle:{"enable-background":"new 0 0 437.474 437.474"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 437.474 437.474","xml:space":"preserve"}},[t("g",[t("g",[t("path",{attrs:{d:"M340.438,179.806c21.82-24.429,34.89-128.092,34.89-128.092s-101.534,24.647-123.354,49.077\n        c-21.818,24.43-15.923,57.688,8.507,79.507C284.909,202.118,318.618,204.235,340.438,179.806z"}}),this._v(" "),t("path",{attrs:{d:"M127.248,340.863c-21.819,24.43-15.923,57.689,8.507,79.508c24.429,21.82,58.139,23.938,79.958-0.492\n        c21.82-24.428,34.89-128.092,34.89-128.092S149.068,316.436,127.248,340.863z"}}),this._v(" "),t("path",{attrs:{d:"M300.927,261.548c-12.682,14.196-9.256,33.526,4.941,46.209c14.199,12.683,33.793,13.912,46.475-0.285\n        c12.683-14.198,20.277-74.448,20.277-74.448S313.609,247.349,300.927,261.548z"}}),this._v(" "),t("path",{attrs:{d:"M164.118,258.214c21.82-24.431,34.889-128.092,34.889-128.092S97.474,154.769,75.653,179.199\n        c-21.82,24.429-15.924,57.687,8.506,79.506C108.589,280.525,142.299,282.643,164.118,258.214z"}}),this._v(" "),t("path",{attrs:{d:"M172.046,71.278c13.541,12.095,32.229,13.27,44.324-0.273C228.465,57.463,235.709,0,235.709,0\n        s-56.284,13.662-68.38,27.204C155.235,40.746,158.503,59.182,172.046,71.278z"}})])])])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"E+Eo":function(e,t,r){"use strict";var n=r("8BJ8");r.n(n).a},E0Mi:function(e,t,r){"use strict";r.r(t);var n=r("A9jg"),a=r("w83w");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},EF7A:function(e,t,r){"use strict";r.r(t);var n=r("zgIP"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},EM7m:function(e,t,r){"use strict";var n=r("HVCT");r.n(n).a},EMEJ:function(e,t,r){},ETFt:function(e,t,r){"use strict";r.r(t);var n=r("M3eW"),a=r("84RJ");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("msIg");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"3601ed9e",null);t.default=s.exports},EeQv:function(e,t,r){"use strict";r.r(t);var n=r("pf9Y"),a=r("kQDD");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!0,null,"5448344d",null);t.default=s.exports},FEfG:function(e,t,r){"use strict";r.r(t);var n=r("6Aep"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},FXCA:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"FarmMenuBar",components:{IconMoreVert:n(r("f8sa")).default},props:{more:{type:Boolean,default:!0}},data:function(){return{showMore:!1}},methods:{openMoreMenu:function(e){e.stopPropagation(),this.showMore=!0,document.addEventListener("click",this.handleClickOutside)},handleClickOutside:function(e){var t=document.getElementById("more-menu");null===t||t.contains(e.target)||(this.showMore=!1)}},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}};t.default=a},Ffyi:function(e,t,r){"use strict";r.r(t);var n=r("v7KQ"),a=r("duu2");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("uPDU");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"738393d6",null);t.default=s.exports},FhkT:function(e,t,r){"use strict";r.r(t);var n=r("2A+E"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},FmYw:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Logout",methods:{goBack:function(){this.$router.back()},logout:function(){this.$store.dispatch("logout"),this.$store.commit("deleteAllLogs"),this.$store.dispatch("deleteAllCachedLogs"),this.$store.commit("deleteAllAssets"),this.$store.dispatch("deleteAllCachedAssets"),this.$store.commit("deleteAllAreas"),this.$store.dispatch("deleteAllCachedAreas"),this.$store.commit("deleteAllUnits"),this.$store.dispatch("deleteAllCachedUnits"),this.$store.commit("deleteAllCategories"),this.$store.dispatch("deleteAllCachedCategories"),this.$store.dispatch("deleteCachedUserAndSiteInfo"),this.$store.commit("setLoginStatus",!1),this.$router.push({path:"/login"})}}}},GpR4:function(e,t,r){"use strict";r.r(t);var n=r("uoCx"),a=r("X0c8");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("uJs5");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"77366866",null);t.default=s.exports},GvTb:function(e,t,r){"use strict";r.r(t);var n=r("6o79"),a=r("K8bf");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},GyOP:function(e,t,r){"use strict";r.r(t);var n=r("rb3z"),a=r("sGXG");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("JYK7");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!0,null,"e7f67c6c",null);t.default=s.exports},HQ1J:function(e,t,r){"use strict";r.r(t);var n=r("m9Ub"),a=r("sS7H");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},HV0o:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},HVCT:function(e,t,r){},HdXD:function(e,t,r){"use strict";r.r(t);var n=r("m/WR"),a=r("CV7x");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},ICyo:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},IEpG:function(e,t,r){},INvt:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},IPsp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconSnowflake"}},InZg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("areas",{keyPath:"tid"}),t()}catch(e){r(e)}}))}}];t.default=n},Ipvj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconExpandMore"}},J7Jb:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("vzJi")),o=function(){var e=localStorage.getItem("host"),t=localStorage.getItem("username"),r=localStorage.getItem("password");return(0,a.default)(e,t,r)},i={actions:{didSubmitCredentials:function(e,t){var r=e.commit,n="https://".concat(t.farmosUrl),o=t.username,i=t.password,s=t.router,u=window.localStorage;return new Promise((function(e){(0,a.default)(n,o,i).authenticate().then((function(t){if(u.setItem("host",n),u.setItem("username",o),u.setItem("password",i),u.setItem("token",t),window.history.length>1)return window.history.back(),void e();s.push("/"),e()})).catch((function(){var l="http://".concat(t.farmosUrl);(0,a.default)(l,o,i).authenticate().then((function(t){if(u.setItem("host",l),u.setItem("username",o),u.setItem("password",i),u.setItem("token",t),window.history.length>1)return window.history.back(),void e();s.push("/"),e()})).catch((function(t){!function(e){if(403===e.status){var t="".concat(n,"/user/password"),a={message:'The username or password you entered was incorrect. Please try again, or <a href="'.concat(t,'">reset your password</a>.'),errorCode:e.statusText,level:"warning",show:!0};r("logError",a)}else{var o={message:"Unable to reach the server. Please check that you have the correct URL and that your device has a network connection. Status: ".concat(e.message),errorCode:e.statusText,level:"warning",show:!0};r("logError",o)}}(t),e()}))}))}))},logout:function(){o().logout().then((function(){}))},updateUserAndSiteInfo:function(e){var t=e.commit;localStorage.getItem("username")&&o().info().then((function(e){var r,n;t("changeFarmName",e.name),t("changeFarmUrl",e.url),t("changeUsername",e.user.name),t("changeEmail",e.user.mail),t("changeUid",e.user.uid),t("changeMapboxAPIKey",e.mapbox_api_key),t("changeSystemOfMeasurement",e.system_of_measurement),t("changeLogTypes",e.resources.log),t("setLoginStatus",!0),localStorage.setItem("farmName",e.name),localStorage.setItem("username",e.user.name),localStorage.setItem("email",e.user.mail),localStorage.setItem("uid",e.user.uid),r="mapboxAPIKey",(n=e.mapbox_api_key)?localStorage.setItem(r,n):localStorage.removeItem(r),localStorage.setItem("systemOfMeasurement",e.system_of_measurement),localStorage.setItem("logTypes",JSON.stringify(e.resources.log)),localStorage.setItem("isLoggedIn",!0)}))},loadCachedUserAndSiteInfo:function(e){var t=e.commit;t("changeUsername",localStorage.getItem("username")),t("changeEmail",localStorage.getItem("email")),t("changeUid",localStorage.getItem("uid")),t("changeMapboxAPIKey",localStorage.getItem("mapboxAPIKey")),t("changeSystemOfMeasurement",localStorage.getItem("systemOfMeasurement")),t("setLoginStatus",JSON.parse(localStorage.getItem("isLoggedIn"))),t("changeFarmName",localStorage.getItem("farmName")),t("changeFarmUrl",localStorage.getItem("host")),t("changeLogTypes",JSON.parse(localStorage.getItem("logTypes"))),t("setUseGeolocation",JSON.parse(localStorage.getItem("useGeolocation")))},deleteCachedUserAndSiteInfo:function(e){var t=e.commit;t("changeFarmName",""),t("changeFarmUrl",""),t("changeUsername",""),t("changeEmail",""),t("changeUid",""),t("changeMapboxAPIKey",""),t("changeSystemOfMeasurement","metric"),t("setLoginStatus",!1),localStorage.clear()}}};t.default=i},J8r6:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=n(r("L2JU")),i=n(r("sXfw")),s=n(r("L61C")),u=n(r("sdek")),l=n(r("z+16")),c=n(r("Rrcy")),d=n(r("J7Jb")),f=n(r("i1sA"));a.default.use(o.default);var m=new o.default.Store({modules:{shell:i.default,farm:s.default,idb:u.default,http:c.default,auth:d.default,cam:f.default}}),v=(0,l.default)(m);m.subscribe(v);var p=m;t.default=p},JYK7:function(e,t,r){"use strict";var n=r("gbnA");r.n(n).a},Jc8o:function(e,t,r){"use strict";r.r(t);var n=r("pe4y"),a=r("T2Ck");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("RmvM");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"dc950eaa",null);t.default=s.exports},K8bf:function(e,t,r){"use strict";r.r(t);var n=r("fsLe"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Kvkj:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("ptHn")),o=n(r("uh7k")),i=n(r("EeQv")),s=n(r("jqxu")),u=n(r("WQAz")),l=n(r("9IKZ")),c=n(r("xOiI")),d=n(r("Jc8o")),f=n(r("GyOP")),m=n(r("7sLs")),v=n(r("8HxT")),p=n(r("XRp1")),h=n(r("+klp")),g=n(r("tGHH")),y=n(r("tuT/")),b=n(r("OTyp")),_=n(r("HdXD")),w=n(r("Tk+X")),C=n(r("zBQ/")),O=n(r("ssaN")),L=n(r("iVBF")),k=n(r("HQ1J")),S=n(r("f8sa")),P=n(r("GvTb")),x=n(r("t3JH")),j=n(r("ZzOt")),D=n(r("8jGb")),M=n(r("nav2")),A=[a.default,o.default,i.default,s.default,u.default,l.default,c.default,d.default,f.default,m.default,v.default,p.default,h.default,g.default,y.default,b.default,_.default,w.default,C.default,O.default,L.default,k.default,S.default,P.default,x.default,j.default,D.default,M.default];t.default=A},L61C:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("J4zp")),i=n(r("8hbF"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e,t){return function(r,n){if(Array.isArray(n))r[e]=function(e,t,r){var n,a=r.reduce((function(r,n){var a=(0,o.default)(r,2),i=a[0],s=a[1];return e.some((function(e){return n[t]===e[t]}))?[i,s.concat(n)]:[i.concat(n),s]}),[[],[]]),i=(0,o.default)(a,2),s=i[0],u=i[1];return e.reduce((n=u,function(e,r){var a=n.find((function(e){return r[t]===e[t]}));return void 0===a?e.concat(r):e.concat(a)}),[]).concat(s)}(r[e],t,n);else if(r[e].some((function(e){return e[t]===n[t]}))){var a=r[e].findIndex((function(e){return e[t]===n[t]}));r[e].splice(a,1,n)}else r[e]=r[e].concat(n)}},c={state:{logs:[],assets:[],areas:[],units:[],categories:[]},getters:{equipment:function(e){return e.assets.filter((function(e){return"equipment"===e.type}))}},mutations:{addLogs:l("logs","localID"),addAssets:l("assets","id"),addAreas:l("areas","tid"),addUnits:l("units","tid"),addCategories:l("categories","tid"),updateAllLogs:function(e,t){e.logs=e.logs.map((function(e){return t(e)}))},deleteLog:function(e,t){var r=e.logs.findIndex((function(e){return e.localID===t}));e.logs.splice(r,1)},deleteAllLogs:function(e){e.logs=[]},deleteAllAssets:function(e){e.assets=[]},deleteAllAreas:function(e){e.areas=[]},deleteAllUnits:function(e){e.units=[]},deleteAllCategories:function(e){e.categories=[]},filterLogs:function(e,t){var r=e.logs.filter(t);e.logs=r}},actions:{initializeLog:function(e){var t=e.commit,r=e.dispatch,n=e.rootState,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,i.default)(n.shell.logTypes),s=o.createLog,l=o.updateLog,c=a.modules||[n.shell.currentModule];return new Promise((function(e,n){r("generateLogID").then((function(r){var n=a.id?l(a,{localID:r}):s(u({},a,{localID:r,modules:c}));t("addLogs",n),e(r)})).catch(n)}))},updateLog:function(e,t){var r=e.commit,n=e.rootState,a=(0,i.default)(n.shell.logTypes).updateLog,o=n.farm.logs.find((function(e){return t.localID===e.localID}));if(void 0===o)throw new Error("The updateLog action requires a localID among the props supplied as the payload. If the log does not have a localID yet, use the initializeLog action instead.");r("addLogs",a(o,u({isCachedLocally:!1,wasPushedToServer:!1},t)))}}};t.default=c},LWf6:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("J4zp")),i=n(r("cDf5"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){return{install:function(t,r){var n=r.store,s=r.router,l=e.drawer,c=e.widget,d=e.filters,f=e.name,m=e.routes;n.commit("updateModule",{name:f,filters:d}),t.component("".concat(f,"-drawer-items"),u({},l,{name:"".concat(f,"-drawer-items")})),t.component("".concat(f,"-widget"),u({},c,{name:"".concat(f,"-widget")})),s.addRoutes(function e(t,r,n){return Array.isArray(n)?n.map((function(n){var s=n.path,l=n.name,c=n.component,d=n.components,f=n.children,m=n.meta,v=n.params,p=n.props,h=n.query;return{path:s,name:l,component:"object"!==(0,i.default)(c)?void 0:t.component(c.name,c),components:"object"!==(0,i.default)(d)?void 0:Object.entries(d).reduce((function(e,r){var n=(0,o.default)(r,2),i=n[0],s=n[1];return u({},e,(0,a.default)({},i,t.component(s.name,s)))}),{}),children:e(t,r,f),meta:u({},m,{module:r}),params:v,props:p,query:h}})):void 0}(t,f,m))}}};t.default=l},M3eW:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tab-container"},[r("div",{staticClass:"tab-bar"},[r("div",{staticClass:"tab",class:{selected:"FIRST"===e.tabSelected},on:{click:function(t){e.tabSelected="FIRST"}}},[r("h5",[e._v("GENERAL")])]),e._v(" "),r("div",{staticClass:"tab",class:{selected:"SECOND"===e.tabSelected},on:{click:function(t){e.tabSelected="SECOND"}}},[r("h5",[e._v("MOVEMENT")])])]),e._v(" "),r("div",{staticClass:"tab-indicator",class:[{first:"FIRST"===e.tabSelected},{second:"SECOND"===e.tabSelected}]}),e._v(" "),r("div",{staticClass:"container-fluid tab-content first",class:{selected:"FIRST"===e.tabSelected}},[r("br"),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("farm-toggle-check",{attrs:{label:"Done",labelPosition:"after",checked:e.currentLog.done},on:{input:function(t){return e.updateCurrentLog("done",t)}}})],1),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter name",type:"text",autofocus:""},domProps:{value:e.currentLog.name},on:{input:function(t){return e.updateCurrentLog("name",t.target.value)}}})]),e._v(" "),r("farm-date-time-form",{attrs:{timestamp:e.currentLog.timestamp},on:{input:function(t){return e.updateCurrentLog("timestamp",t)}}}),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label ",attrs:{for:"type"}},[e._v("Log Type")]),e._v(" "),void 0===e.currentLog.id?r("div",{staticClass:"input-group"},[r("select",{staticClass:"custom-select col-sm-3 ",domProps:{value:e.currentLog.type},on:{input:function(t){return e.updateCurrentLog("type",t.target.value)}}},e._l(e.logTypes,(function(t,n){return r("option",{key:t.label+"-"+n,domProps:{value:n}},[e._v("\n              "+e._s(t.label)+"\n            ")])})),0)]):e._e(),e._v(" "),void 0!==e.currentLog.id?r("div",{staticClass:"form-item"},[r("p",[e._v(" "+e._s(e.logTypes[e.currentLog.type].label)+" ")])]):e._e()]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label ",attrs:{for:"notes"}},[e._v("Notes")]),e._v(" "),r("textarea",{staticClass:"form-control",attrs:{placeholder:"Enter notes",type:"text"},domProps:{value:e.parseNotes(e.currentLog.notes)},on:{input:function(t){return e.updateNotes(t.target.value)}}})]),e._v(" "),r("h4",[e._v("Log Categories")]),e._v(" "),r("div",{staticClass:"form-item form-group",attrs:{id:"categories"}},[e.showAllCategories||e.currentLog.log_category&&!(e.currentLog.log_category.length<1)?e._e():r("p",[e._v("\n        No categories selected\n      ")]),e._v(" "),e._l(e.filteredCategories,(function(t){return r("farm-select-box",{key:"category-"+t.tid+"-"+t.name,attrs:{small:"",id:"category-"+t.tid+"-"+t.name,selected:e.currentLog.log_category&&e.currentLog.log_category.some((function(e){return t.tid===e.id})),label:t.name},on:{input:function(r){r?e.addCategory(t.tid):e.removeCategory(e.currentLog.log_category.findIndex((function(e){return t.tid===e.id})))}}})})),e._v(" "),r("div",{staticClass:"show-hide"},[e.showAllCategories?e._e():r("div",{on:{click:function(t){e.showAllCategories=!e.showAllCategories}}},[r("p",[r("icon-expand-more"),e._v("Show More")],1)]),e._v(" "),e.showAllCategories?r("div",{on:{click:function(t){e.showAllCategories=!e.showAllCategories}}},[r("p",[r("icon-expand-less"),e._v("Show Less")],1)]):e._e()])],2),e._v(" "),void 0!==e.currentLog.quantity?r("div",[r("h4",[e._v("Quantities")]),e._v(" "),r("label",{staticClass:"control-label ",attrs:{for:"quantity"}},[e._v("Add new or edit existing quantity")]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("select",{staticClass:"custom-select col-sm-3 ",domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0&&e.currentLog.quantity[0].measure?e.currentLog.quantity[0].measure:"Select measure"},on:{input:function(t){return e.updateNewQuant("measure",t.target.value,!1)}}},[r("option",[e._v("Select measure")]),e._v(" "),e._l(e.quantMeasures,(function(t,n){return r("option",{key:"measure-"+n,domProps:{value:t}},[e._v("\n              "+e._s(t)+"\n            ")])}))],2),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter value",type:"number"},domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0?e.currentLog.quantity[0].value:null},on:{input:function(t){return e.updateNewQuant("value",t.target.value,!1)}}}),e._v(" "),r("select",{staticClass:"custom-select col-sm-3 ",domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0&&e.currentLog.quantity[0].unit?e.currentLog.quantity[0].unit.id:"Select unit"},on:{input:function(t){return e.updateNewQuant("unit",t.target.value,!1)}}},[r("option",[e._v("Select unit")]),e._v(" "),e._l(e.units,(function(t,n){return r("option",{key:"unit-"+n,domProps:{value:t.tid}},[e._v("\n              "+e._s(e.units?t.name:"")+"\n            ")])}))],2),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter label",type:"text"},domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0?e.currentLog.quantity[0].label:null},on:{input:function(t){return e.updateNewQuant("label",t.target.value,!1)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group"},[e.currentLog.quantity&&e.currentLog.quantity.length>0?r("ul",{staticClass:"list-group"},e._l(e.currentLog.quantity,(function(t,n){return r("li",{key:"quantity-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n            "+e._s(t.measure)+"\n            "+e._s(t.value)+"\n            "+e._s(e.quantUnitNames.length>0?e.quantUnitNames[n]:"")+"\n            "+e._s(t.label)+"\n            "),r("span",{staticClass:"remove-list-item",on:{click:function(t){return e.removeQuant(n)}}},[e._v("\n              \n            ")])])})),0):e._e()])]):e._e(),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"addNewQuantity"},on:{click:function(t){return e.updateNewQuant(null,null,!0)}}},[e._v("\n        Add another quantity\n      ")])]),e._v(" "),r("h4",[e._v("Assets")]),e._v(" "),r("farm-autocomplete",{class:{invalid:e.assetsRequired()},attrs:{objects:e.filteredAssets,searchKey:"name",searchId:"id",label:e.assetsRequired()?"Seedings must include assets!":"Add assets to the log"},on:{results:function(t){return e.addAsset(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No assets found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n            Sync Now\n          ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedAssets,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(t.name)+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeAsset(t)}}},[e._v("\n            \n          ")])])})),0)]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label ",attrs:{for:"type"}},[e._v("Equipment")]),e._v(" "),r("div",{staticClass:"input-group"},[r("select",{staticClass:"custom-select col-sm-3 ",on:{input:function(t){return e.addEquipment(t.target.value)}}},[r("option",{attrs:{value:""}}),e._v(" "),e._l(e.equipment,(function(t,n){return r("option",{key:"equip-"+n,domProps:{value:t.id}},[e._v("\n            "+e._s(t?t.name:"")+"\n          ")])}))],2)])]),e._v(" "),r("div",{staticClass:"form-item form-group"},[e.currentLog.equipment?r("ul",{staticClass:"list-group"},e._l(e.currentLog.equipment,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(e.equipmentNames.length>0?e.equipmentNames[n]:"")+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(t){return e.removeEquipment(n)}}},[e._v("\n            \n          ")])])})),0):e._e()]),e._v(" "),"farm_seeding"!==e.currentLog.type?r("div",{attrs:{id:"areas-and-location"}},[r("h4",[e._v("Areas & Location")]),e._v(" "),e.useGeolocation?r("div",{staticClass:"form-item form-item-name form-group"},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.useLocalAreas,expression:"useLocalAreas"}],staticClass:"form-check-input",attrs:{type:"radio",id:"dontUseGeo",name:"geoRadioGroup",checked:""},domProps:{value:!1,checked:e._q(e.useLocalAreas,!1)},on:{change:function(t){e.useLocalAreas=!1}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"dontUseGeo"}},[e._v("Search areas")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.useLocalAreas,expression:"useLocalAreas"}],staticClass:"form-check-input",attrs:{type:"radio",id:"doUseGeo",name:"geoRadioGroup"},domProps:{value:!0,checked:e._q(e.useLocalAreas,!0)},on:{change:function(t){e.useLocalAreas=!0}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"doUseGeo"}},[e._v("Use my location")])])]):e._e(),e._v(" "),e.useLocalAreas?r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"areaSelector"}},[e._v("Farm areas near your current location")]),e._v(" "),r("select",{staticClass:"form-control",attrs:{name:"areas"},on:{input:function(t){return e.addArea(t.target.value)}}},[e.localAreas.length<1?r("option",{attrs:{value:""}},[e._v("No other areas nearby")]):e._e(),e._v(" "),e.localAreas.length>0?r("option",{attrs:{value:"",selected:""}},[e._v("-- Select an Area --")]):e._e(),e._v(" "),e._l(e.localAreas,(function(t){return r("option",{key:"area-"+t.tid,domProps:{value:t.tid}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))],2)]):e._e(),e._v(" "),e.useLocalAreas?e._e():r("farm-autocomplete",{attrs:{objects:e.filteredAreas,searchKey:"name",searchId:"tid",label:"Add areas to the log"},on:{results:function(t){return e.addArea(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No areas found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n              Sync Now\n            ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedAreas,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n            "+e._s(t.name)+"\n            "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeArea(t)}}},[e._v("\n              \n            ")])])})),0)]),e._v(" "),e.useGeolocation?r("div",{staticClass:"form-item form-item-name form-group"},[r("button",{staticClass:"btn btn-success btn-navbar",attrs:{disabled:!1,title:"Add my GPS location to the log",type:"button"},on:{click:e.addLocation}},[e._v("\n          Add my GPS location to the log\n        ")])]):e._e(),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},[e._l(e.filteredGeofields,(function(t,n){return r("li",{key:"geofield-"+n,staticClass:"list-group-item"},[e._v("\n            "+e._s(t.geom)+"\n            "),r("span",{staticClass:"remove-list-item",on:{click:function(t){return e.removeLocation(n)}}},[e._v("\n              \n            ")])])})),e._v(" "),e.isWorking?r("li",{staticClass:"list-item-group"},[r("icon-spinner")],1):e._e()],2)])],1):e._e(),e._v(" "),r("h4",[e._v("Images")]),e._v(" "),e.isNative?r("div",{staticClass:"form-item form-item-name form-group"},[r("button",{staticClass:"btn btn-info btn-navbar navbar-right",attrs:{disabled:!1,title:"Take picture with camera",type:"button"},on:{click:e.getPhoto}},[e._v("\n        Take picture with camera\n      ")])]):e._e(),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("div",{staticClass:"input-group "},[r("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[e._v("\n          Select photo from file\n        ")]),e._v(" "),r("input",{ref:"photo",staticClass:"custom-file-input",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.loadPhoto(t.target.files)}}})])]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},e._l(e.imageUrls,(function(e,t){return r("img",{key:"preview-"+t,staticClass:"preview",attrs:{src:e,onerror:"this.style.display='none'"}})})),0)],1),e._v(" "),void 0!==e.currentLog.movement?r("div",{staticClass:"container-fluid tab-content second",class:{selected:"SECOND"===e.tabSelected}},[r("br"),e._v(" "),r("farm-autocomplete",{class:{invalid:e.assetsRequired()},attrs:{objects:e.filteredAssets,searchKey:"name",searchId:"id",label:e.assetsRequired()?"Seedings must include assets!":"Add assets to be moved"},on:{results:function(t){return e.addAsset(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No assets found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n            Sync Now\n          ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedAssets,(function(t,n){return r("li",{key:"asset-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(t.name)+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeAsset(t)}}},[e._v("\n            \n          ")])])})),0)]),e._v(" "),r("farm-autocomplete",{attrs:{objects:e.filteredMovementAreas,searchKey:"name",searchId:"tid",label:"Movement to"},on:{results:function(t){return e.addMovementArea(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No areas found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n            Sync Now\n          ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedMovementAreas,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(t.name)+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeMovementArea(t)}}},[e._v("\n            \n          ")])])})),0)]),e._v(" "),r("router-link",{attrs:{to:{name:"edit-map"}}},[r("farm-map",{attrs:{id:"map",overrideStyles:{height:"90vw"},drawing:!1,options:{controls:function(e){return e.filter((function(e){return"Attribution"===e.constructor.name}))},interactions:!1},wkt:e.mapLayers,geojson:{title:"areas",url:e.areaGeoJSON,color:"grey"}}})],1),e._v(" "),r("br")],1):e._e()])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"MV/R":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconAssignment"}},NVlx:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("dHxB")),o=n(r("x2qs")),i=n(r("qWsX")),s=n(r("ETFt")),u=n(r("hKAu")),l=n(r("iUy7")),c=n(r("RtUe")),d=n(r("0VQf")),f=n(r("jqhR")),m=[{path:"/logs",component:a.default,children:[{path:"",name:"logs",components:{default:o.default,menubar:i.default}},{path:":id",name:"edit-log",components:{default:s.default,menubar:u.default},props:{default:!0,menubar:!0}},{path:":id/map",name:"edit-map",components:{default:l.default,menubar:c.default},props:{default:!0,menubar:!0}},{path:"filter",name:"filter-logs",components:{default:d.default,menubar:f.default}}]}];t.default=m},NzpZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"FilterLogs",props:["categories","logDisplayFilters"],methods:{updateExcludedLogType:function(e,t){t?this.$emit("removeFromExcludedTypes",e):this.$emit("addToExcludedTypes",e)},updateExcludedLogCategory:function(e,t){t?this.$emit("removeFromExcludedCategories",e):this.$emit("addToExcludedCategories",e)},setDateFilter:function(e){this.$emit("setDateFilter",e)},checkChecked:function(e){return!document.getElementById(e).checked}}};t.default=n},OBId:function(e,t,r){"use strict";r.r(t);var n=r("33J1"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},OKhj:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("RIqP")),o=n(r("lSNA")),i=window.farmOS.utils,s=i.parseNotes,u=i.mergeGeometries,l=i.removeGeometry,c=i.isNearby,d={name:"EditLog",data:function(){return{tabSelected:"FIRST",useLocalAreas:!1,isWorking:!1,localAreas:[],showAllCategories:!1,quantMeasures:["count","length","weight","area","volume","time","temperature","water_content","value","rating","ratio","probability"]}},props:["id","logs","logTypes","areas","assets","useGeolocation","units","categories","equipment"],beforeMount:function(){this.$router.currentRoute.params.tab&&(this.tabSelected=this.$router.currentRoute.params.tab)},methods:{forceSync:function(){if(null!==localStorage.getItem("host"))return this.$store.dispatch("updateAssets"),void this.$store.dispatch("updateAreas");this.$router.push("/login")},updateCurrentLog:function(e,t){var r,n=(r={},(0,o.default)(r,e,t),(0,o.default)(r,"localID",+this.id),r);this.$store.dispatch("updateLog",n)},updateNotes:function(e){this.updateCurrentLog("notes",{value:e,format:"farm_format"})},updateNewQuant:function(e,t,r){if(0===this.currentLog.quantity.length||r){var n=[];this.currentLog.quantity&&(n=this.currentLog.quantity);n.unshift({measure:null,value:null,unit:null,label:null}),this.updateCurrentLog("quantity",n)}var a=this.currentLog.quantity;if("unit"!==e||"Select unit"===t||r)"Select measure"===t||"Select unit"===t||r||(a[0][e]=t,this.updateCurrentLog("quantity",a));else{var o={id:t,resource:"taxonomy_term"};a[0][e]=o,this.updateCurrentLog("quantity",a)}},addCategory:function(e){var t={id:e,resource:"taxonomy_term"},r=this.currentLog.log_category,n=r?r.concat(t):[t];this.updateCurrentLog("log_category",n)},addEquipment:function(e){if(""!==e){var t={id:e,resource:"farm_asset"},r=this.currentLog.equipment,n=r?r.concat(t):[t];this.updateCurrentLog("equipment",n)}},addAsset:function(e){var t={id:e,resource:"farm_asset"},r=this.currentLog.asset.concat(t);this.updateCurrentLog("asset",r)},addMovementArea:function(e){var t={id:e,resource:"taxonomy_term"},r=this.areas.find((function(t){return t.tid===e})).geofield[0]?this.areas.find((function(t){return t.tid===e})).geofield[0].geom:null,n=this.currentLog.movement,a=n?u([r,n.geometry]):r,o={area:n?n.area.concat(t):[t],geometry:a};this.updateCurrentLog("movement",o)},addArea:function(e){if(""!==e){var t={id:e,resource:"taxonomy_term"},r=this.currentLog.area.concat(t);this.updateCurrentLog("area",r)}},removeAsset:function(e){var t=this.currentLog.asset.filter((function(t){return t.id!==e.id}));this.updateCurrentLog("asset",t)},removeArea:function(e){var t,r,n=this.currentLog.area.filter((function(t){return t.id!==e.tid}));this.updateCurrentLog("area",n);var a=null===(t=this.areas.find((function(t){return t.tid===e.tid})))||void 0===t?void 0:t.geofield,o=null===(r=this.currentLog.geofield)||void 0===r?void 0:r.filter((function(e){return!a.some((function(t){return e.geom===t.geom}))}));this.updateCurrentLog("geofield",o)},removeMovementArea:function(e){var t=this.currentLog.movement.area.filter((function(t){return t.id!==e.tid})),r=this.currentLog.movement.geometry,n=null;e.geofield[0]&&(n=e.geofield[0].geom);var a={geometry:l(r,n),area:t};this.updateCurrentLog("movement",a)},removeQuant:function(e){var t=this.currentLog.quantity;t.splice(e,1),this.updateCurrentLog("quantity",t)},removeCategory:function(e){var t=this.currentLog.log_category;t.splice(e,1),this.updateCurrentLog("category",t)},removeEquipment:function(e){var t=this.currentLog.equipment;t.splice(e,1),this.updateCurrentLog("equipment",t)},getPhoto:function(){return this.$store.dispatch("getPhotoFromCamera",this.currentLog)},loadPhoto:function(e){for(var t=0;t<e.length;t+=1)this.$store.dispatch("loadPhotoBlob",{file:e[t],log:this.currentLog})},addLocation:function(){var e,t=this;this.isWorking=!0;var r=navigator.geolocation.watchPosition(function(t){var r="POINT (".concat(t.coords.longitude," ").concat(t.coords.latitude,")"),n=this.currentLog.geofield;e=n?n.concat({geom:r}):[{geom:r}]}.bind(this),function(e){var t={message:e.message,level:"warning",show:!1};this.$store.commit("logError",t),this.isWorking=!1}.bind(this),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});setTimeout((function(){navigator.geolocation.clearWatch(r),t.updateCurrentLog("geofield",e),t.isWorking=!1}),5e3)},removeLocation:function(e){var t=this.currentLog.geofield,r=[].concat((0,a.default)(t.slice(0,e)),(0,a.default)(t.slice(e+1)));this.updateCurrentLog("geofield",r)},getAttached:function(e,t,r){var n=[];return t.forEach((function(t){e.forEach((function(e){t[r]===e.id&&n.push(t)}))})),n},assetsRequired:function(){return"farm_seeding"===this.currentLog.type&&this.selectedAssets<1},parseNotes:s},computed:{currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===+e.id}))||this.logs[0]},filteredAssets:function(){if(this.currentLog.asset){var e=this.currentLog.asset;return this.assets.filter((function(t){return!e.some((function(e){return t.id===e.id}))}))}return this.assets},filteredAreas:function(){if(this.currentLog.area){var e=this.currentLog.area;return this.areas.filter((function(t){return!e.some((function(e){return t.tid===e.id}))}))}return this.areas},filteredMovementAreas:function(){var e=this.currentLog.movement;if(e&&e&&e.area){var t=this.currentLog.movement.area;return this.areas.filter((function(e){return!t.some((function(t){return e.tid===t.id}))}))}return this.areas},filteredCategories:function(){var e=this.currentLog.log_category,t=!e||0===e.length;return this.showAllCategories||t?this.showAllCategories?this.categories:[]:this.categories.filter((function(t){return e.some((function(e){return t.tid===e.id}))}))},filteredGeofields:function(){var e=this.currentLog.geofield;return this.currentLog.geofield?e.filter((function(e){var t;return null===(t=e.geom)||void 0===t?void 0:t.includes("POINT")})):[]},selectedAssets:function(){return this.currentLog.asset?this.getAttached(this.currentLog.asset,this.assets,"id"):[]},selectedAreas:function(){return this.currentLog.area?this.getAttached(this.currentLog.area,this.areas,"tid"):[]},selectedMovementAreas:function(){var e=this.currentLog.movement;return e&&e.area?this.getAttached(this.currentLog.movement.area,this.areas,"tid"):[]},quantUnitNames:function(){var e,t=this;if(this.units.length>0&&(null===(e=this.currentLog)||void 0===e?void 0:e.quantity.length)>0){var r=[];return this.currentLog.quantity.forEach((function(e){e.unit?t.units.forEach((function(t){parseInt(t.tid,10)===parseInt(e.unit.id,10)&&r.push(t.name)})):r.push(null)})),r}return[]},categoryNames:function(){var e=this;if(this.categories.length>0&&this.currentLog.log_category.length>0){var t=[];return this.currentLog.log_category.forEach((function(r){e.categories.forEach((function(e){parseInt(e.tid,10)===parseInt(r.id,10)&&t.push(e.name)}))})),t}return[]},equipmentNames:function(){var e=this;if(this.equipment.length>0&&this.currentLog.equipment&&this.currentLog.equipment.length>0){var t=[];return this.currentLog.equipment.forEach((function(r){e.equipment.forEach((function(e){parseInt(e.id,10)===parseInt(r.id,10)&&t.push(e.name)}))})),t}return[]},areaGeoJSON:function(){return"".concat(localStorage.getItem("host"),"/farm/areas/geojson/all")},isNative:function(){return"native"===e.env.PLATFORM||"dev"===e.env.PLATFORM},imageUrls:function(){return this.currentLog.images.filter((function(e){return"string"==typeof e}))},mapLayers:function(){var e,t,r,n=this,a={title:"movement",wkt:null===(e=this.currentLog.movement)||void 0===e?void 0:e.geometry,color:"orange",visible:!0,weight:0,canEdit:!!(null===(t=this.currentLog.movement)||void 0===t?void 0:t.geometry)},o=null===(r=this.currentLog.asset)||void 0===r?void 0:r.map((function(e){var t,r;return null===(t=n.assets)||void 0===t?void 0:null===(r=t.find((function(t){return t.id===e.id})))||void 0===r?void 0:r.geometry}));return[{title:"previous",wkt:o?u(o):void 0,color:"green",visible:!0,weight:1,canEdit:!1},a]}},watch:{useLocalAreas:function(){if(this.useLocalAreas){var e=navigator.geolocation.watchPosition(function(e){this.localAreas=this.filteredAreas.filter((function(t){return!!t.geofield[0]&&c([e.coords.longitude,e.coords.latitude],t.geofield[0].geom,e.coords.accuracy)}))}.bind(this),function(e){var t={message:e.message,level:"warning",show:!1};this.$store.commit("logError",t)}.bind(this),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});setTimeout((function(){navigator.geolocation.clearWatch(e)}),5e3)}}}};t.default=d}).call(this,r("8oxB"))},ONIP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=window.farmOS.utils.mergeGeometries,a={name:"EditMap",components:{Map:Map},props:["logs","assets","id","systemOfMeasurement"],computed:{areaGeoJSON:function(){return"".concat(localStorage.getItem("host"),"/farm/areas/geojson/all")},currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===+e.id}))||this.logs[0]},mapLayers:function(){var e,t,r,a=this,o={title:"movement",wkt:null===(e=this.currentLog.movement)||void 0===e?void 0:e.geometry,color:"orange",visible:!0,weight:0,canEdit:!!(null===(t=this.currentLog.movement)||void 0===t?void 0:t.geometry)},i=null===(r=this.currentLog.asset)||void 0===r?void 0:r.map((function(e){var t,r;return null===(t=a.assets)||void 0===t?void 0:null===(r=t.find((function(t){return t.id===e.id})))||void 0===r?void 0:r.geometry}));return[{title:"previous",wkt:n(i),color:"green",visible:!0,weight:1,canEdit:!1},o]}},methods:{updateMovement:function(e){var t,r={movement:{area:null===(t=this.currentLog)||void 0===t?void 0:t.movement.area,geometry:e},localID:+this.id};this.$store.dispatch("updateLog",r)}}};t.default=a},OTyp:function(e,t,r){"use strict";r.r(t);var n=r("s6Nv"),a=r("nDdP");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},P4xX:function(e,t,r){},PCqA:function(e,t,r){},PHOj:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},PQGC:function(e,t,r){"use strict";r.r(t);var n=r("99/3"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},PYhv:function(e,t,r){"use strict";r.r(t);var n=r("Z8HS"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Pgdv:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("farm-menu-bar",{scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("router-link",{attrs:{to:{name:"logs"},tag:"li"}},[r("icon-arrow-back")],1),e._v(" "),r("li",[e._v("Log Filters")])]},proxy:!0},{key:"more-menu",fn:function(){return[r("li",{on:{click:e.resetDisplayFilters}},[e._v("Reset filters")])]},proxy:!0}])})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},PoNo:function(e,t,r){"use strict";r.r(t);var n=r("NzpZ"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"QSd+":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},QYYL:function(e,t,r){"use strict";r.r(t);var n=r("o83v"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},QZZV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconAssignmentLate"}},QpOz:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=r("L2JU"),i=(a.default.component("homescreen-widgets",{render:function(e){var t=this;return e("div",{style:{display:"flex",flexFlow:"row wrap",maxWidth:"700px",minHeight:"calc(100vh - 3rem)",margin:"auto",backgroundColor:"#fff"}},this.modules.map((function(r){return e("".concat(r.name,"-widget"),{style:{flex:"0 0 50%",height:"50vw",maxHeight:"350px",backgroundColor:"#fff",border:"1px solid #eee"},nativeOn:{click:function(){t.$store.commit("setCurrentModule",r.name),t.$store.commit("filterLogs",(function(e){return e.modules.includes(r.name)})),t.$store.dispatch("loadCachedLogs")}}})})))},props:{modules:{type:Array,required:!0}}}),{computed:(0,o.mapState)({modules:function(e){return e.shell.modules}})});t.default=i},Qsy8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"AllLogs",props:["logTypes","logs","userId","assets","logDisplayFilters","areas"],methods:{showDate:function(e){if(Number.isNaN(Number(e)))return"No Date Provided";return new Date(1e3*e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},mapTidsToAreas:function(e){var t=this;return e.area&&this.areas.length>0?e.area.map((function(e){return t.areas.find((function(t){return+t.tid==+e.id}))})):[]},mapIdsToAssets:function(e){var t=this;return e.asset&&this.assets.length>0?e.asset.map((function(e){return t.assets.find((function(t){return+t.id==+e.id}))})):[]},passesFilters:function(e){var t,r,n=this;return!(this.logDisplayFilters.excludedTypes.includes(e.type)||(t=null===e.log_category||0===e.log_category.length,r=n.logDisplayFilters.excludedCategories.includes(-1),t&&r||null!==e.log_category&&e.log_category.some((function(e){return n.logDisplayFilters.excludedCategories.some((function(t){return+t==+e.id}))})))||!function(){if(Number.isNaN(Number(e.timestamp)))return!0;var t,r=n.logDisplayFilters.date,a=new Date;return"TODAY"===r&&(a.setDate(a.getDate()-1),t=Math.floor(a.valueOf()/1e3)),"THIS_WEEK"===r&&(a.setDate(a.getDate()-7),t=Math.floor(a.valueOf()/1e3)),"THIS_MONTH"===r&&(a.setMonth(a.getMonth()-1),t=Math.floor(a.valueOf()/1e3)),"THIS_YEAR"===r&&(a.setYear(a.getYear()-1),t=Math.floor(a.valueOf()/1e3)),"ALL_TIME"===r&&(t=0),e.timestamp>t}())},startNewLog:function(){var e=this;this.$store.dispatch("initializeLog",{done:!0}).then((function(t){return e.$router.push({path:"/logs/".concat(t)})}))},parseNotes:window.farmOS.utils.parseNotes}};t.default=n},RdWB:function(e,t,r){"use strict";var n=r("xf1p");r.n(n).a},RmFW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("equipment",{keyPath:"id"}),t()}catch(e){r(e)}}))}},{version:4,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.deleteObjectStore("equipment"),t()}catch(e){r(e)}}))}}];t.default=n},RmvM:function(e,t,r){"use strict";var n=r("n4yk");r.n(n).a},Rrcy:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("lSNA")),i=n(r("vzJi")),s=n(r("mEwK")),u=n(r("8jTM")),l=n(r("8hbF")),c=r("fC+r");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){var e=localStorage.getItem("host"),t=localStorage.getItem("username"),r=localStorage.getItem("password");return(0,i.default)(e,t,r)},v={getters:{logFilters:function(e,t,r){return r.shell.modules.filter((function(e){return e.name===r.shell.currentModule})).reduce((function(e,t){return t.filters&&t.filters.log?"ALL"===t.filters.log?{log_owner:n,type:a,done:o}:(n="SELF"===t.filters.log.log_owner&&r.shell.user.uid?r.shell.user.uid:"number"==typeof t.filters.log.log_owner?t.filters.log.log_owner:void 0,a=t.filters&&t.filters.log&&Array.isArray(t.filters.log.type)?t.filters.log.type:void 0,{log_owner:n,done:o=0===t.filters.log.done||!1===t.filters.log.done?0:1===t.filters.log.done||!0===t.filters.log.done?1:void 0,type:a}):null;var n,a,o}),{})}},actions:{updateAreas:function(e){var t=e.commit;return m().area.get().then((function(e){t("deleteAllAreas");var r=e.list.map((function(e){return{tid:e.tid,name:e.name,geofield:e.geofield}}));t("addAreas",r)}))},updateAssets:function(e){var t=e.commit;return m().asset.get().then((function(e){t("deleteAllAssets"),t("addAssets",e.list)}))},updateUnits:function(e){var t=e.commit;return m().term.get("farm_quantity_units").then((function(e){t("deleteAllUnits");var r=e.list.map((function(e){return{tid:e.tid,name:e.name}}));t("addUnits",r)}))},updateCategories:function(e){var t=e.commit;return m().term.get("farm_log_categories").then((function(e){t("deleteAllCategories");var r=e.list.map((function(e){return{tid:e.tid,name:e.name}}));t("addCategories",r)}))},sendLogs:function(e,t){var r=e.commit,n=e.rootState,a=(0,l.default)(n.shell.logTypes),o=a.updateLog,i=a.formatLogForServer;return s.default.allSettled(t.map((function(e){var t=i(n.farm.logs[e]);return m().log.send(t,localStorage.getItem("token"))}))).then((function(e){var a=e.reduce((function(e,a,i){return"rejected"===a.status?e.concat({index:t[i],status:parseInt(a.reason.message.substr(-3),10),message:a.reason.response.data}):("fulfilled"===a.status&&(s=a.value,u=t[i],l={id:s.id,url:s.uri,wasPushedToServer:!0,isReadyToSync:!1,isCachedLocally:!1},c=o(n.farm.logs[u],l),r("addLogs",c)),e);var s,u,l,c}),[]);if(a.length>0)throw new c.SyncError({responses:a})}))},getServerLogs:function(e){var t=e.commit,r=e.getters,n=e.dispatch,a=e.rootState,o=JSON.parse(localStorage.getItem("syncDate")),i=(0,l.default)(a.shell.logTypes,o).mergeLogFromServer;return m().log.get(r.logFilters).then((function(e){return e.list.filter((function(e){return e.changed>o})).forEach((function(e){var r=a.farm.logs.find((function(t){return+t.id==+e.id}));if(void 0!==r){var o=Array.from(new Set(r.modules.concat(a.shell.currentModule))),s=i(e,r,{modules:o,isCachedLocally:!1});t("addLogs",s)}else{var u=[a.shell.currentModule],l=i(e,void 0,{modules:u});n("initializeLog",l)}})),e.list.map((function(e){return+e.id}))})).then((function(e){var t=a.farm.logs.filter((function(t){return t.id&&!e.some((function(e){return+t.id==+e}))})).map((function(e){return e.id}));return m().log.get(t)})).then((function(e){e.list.filter((function(e){return e.changed>o})).forEach((function(e){var r=a.farm.logs.find((function(t){return+t.id==+e.id})),n=i(e,r);t("addLogs",n)}))})).catch((function(e){throw e.response?new c.SyncError({responses:[{status:e.response.status,message:e.response.statusText}]}):new c.SyncError({responses:[{message:e}]})}))},syncAllLogs:function(e){var t=e.rootState,r=e.commit,n=e.dispatch,o=(0,l.default)(t.shell.logTypes).updateLog;localStorage.getItem("token")?(r("updateAllLogs",(function(e){return f({},e,{isReadyToSync:!0})})),n("getServerLogs").then((function(){localStorage.setItem("syncDate",(Date.now()/1e3).toFixed(0));var e=(0,c.createSyncReducer)({logTypes:t.shell.logTypes}),i=t.farm.logs.reduce(e,[[],[],[]]),s=(0,a.default)(i,3),u=s[0],l=s[1],d=s[2];return l.forEach((function(e){var n=e.message,a=e.index;n&&r("logError",{message:n,level:"warning",show:!0});var i=o(t.farm.logs[a],{isReadyToSync:!1});r("addLogs",i)})),d.forEach((function(e){var n=e.index,a=e.props,i=o(t.farm.logs[n],a);r("addLogs",i)})),n("sendLogs",u)})).catch((function(e){r("updateAllLogs",(function(e){return f({},e,{isReadyToSync:!1})}));var n="";e.responses.forEach((function(e){if(401===e.status||403===e.status)u.default.push("/login");else if(void 0===e.status)n+=e.message;else if(void 0===e.index)n+="".concat(e.status," error: ").concat(e.message);else if(404!==e.status){var r=t.farm.logs[e.index].name.data;n+='Error while syncing "'.concat(r,'": ').concat(e.message," <br>")}})),""!==n&&r("logError",{message:n,errorCode:"",level:"warning",show:!0})})).finally((function(){r("updateAllLogs",(function(e){return f({},e,{isReadyToSync:!1})}))}))):u.default.push("/login")}}};t.default=v},RtUe:function(e,t,r){"use strict";r.r(t);var n=r("aSyL"),a=r("tElN");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},S9cH:function(e,t,r){"use strict";r.r(t);var n=r("8tXL"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},SLuX:function(e,t,r){"use strict";r.r(t);var n=r("FmYw"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},SSbN:function(e,t,r){"use strict";r.r(t);var n=r("pGhP"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},SrRO:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",width:"24",height:"24","xml:space":"preserve"}},[t("polygon",{attrs:{points:"222.949,302.964 222.949,512 289.051,467.933 289.051,302.964 \t\t"}}),this._v(" "),t("rect",{attrs:{x:"2.612",width:"506.776",height:"49.576"}}),this._v(" "),t("polygon",{attrs:{points:"19.137,82.627 206.424,269.913 305.576,269.913 492.863,82.627 \t\t"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},T2Ck:function(e,t,r){"use strict";r.r(t);var n=r("cj+W"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},TOFo:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("farm-menu-bar",{scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("li",{on:{click:function(t){return e.$emit("toggleDrawer")}}},[r("icon-menu")],1),e._v(" "),r("li",[e._v("My Logs")])]},proxy:!0},{key:"right-menu",fn:function(){return[r("router-link",{staticClass:"filter",attrs:{to:{name:"filter-logs"},tag:"li"}},[r("icon-filter")],1),e._v(" "),r("li",{on:{click:function(t){return e.$emit("syncAll")}}},[r("icon-cloud-upload")],1)]},proxy:!0},{key:"more-menu",fn:function(){return[r("li",{on:{click:function(t){return e.$emit("syncAll")}}},[e._v("Sync all logs")]),e._v(" "),r("router-link",{staticClass:"filter",attrs:{to:{name:"filter-logs"},tag:"li"}},[e._v("\n      Filter logs\n    ")])]},proxy:!0}])})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"Tk+X":function(e,t,r){"use strict";r.r(t);var n=r("INvt"),a=r("cpXB");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},UL9d:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},UiWD:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid"},[r("br"),e._v(" "),r("h4",[e._v("Date")]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"TODAY",checked:"TODAY"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"TODAY"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("TODAY")}}},[e._v("\n        Today\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"THIS_WEEK",checked:"THIS_WEEK"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"THIS_WEEK"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("THIS_WEEK")}}},[e._v("\n        This Week\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"THIS_MONTH",checked:"THIS_MONTH"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"THIS_MONTH"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("THIS_MONTH")}}},[e._v("\n        This Month\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"THIS_YEAR",checked:"THIS_YEAR"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"THIS_YEAR"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("THIS_YEAR")}}},[e._v("\n        This Year\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"ALL_TIME",checked:"ALL_TIME"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"ALL_TIME"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("ALL_TIME")}}},[e._v("\n        All Time\n      ")])])]),e._v(" "),r("h4",[e._v("Log Type")]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-activity",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_activity")},on:{input:function(t){return e.updateExcludedLogType("farm_activity",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_activity")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_activity",e.checkChecked("type-farm-activity"))}}},[e._v("\n        Activity\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-harvest",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_harvest")},on:{input:function(t){return e.updateExcludedLogType("farm_harvest",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_harvest")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_harvest",e.checkChecked("type-farm-harvest"))}}},[e._v("\n        Harvest\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-input",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_input")},on:{input:function(t){return e.updateExcludedLogType("farm_input",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_input")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_input",e.checkChecked("type-farm-input"))}}},[e._v("\n        Input\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-observation",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_observation")},on:{input:function(t){return e.updateExcludedLogType("farm_observation",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_observation")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_observation",e.checkChecked("type-farm-observation"))}}},[e._v("\n        Observation\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-seeding",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_seeding")},on:{input:function(t){return e.updateExcludedLogType("farm_seeding",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_seeding")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_seeding",e.checkChecked("type-farm-seeding"))}}},[e._v("\n        Seeding\n      ")])])]),e._v(" "),r("h4",[e._v("Log Category")]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"category-none",name:"log-categories"},domProps:{checked:!e.logDisplayFilters.excludedCategories.includes(-1)},on:{input:function(t){return e.updateExcludedLogCategory(-1,t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedCategories.includes(-1)},attrs:{for:"log-categories"},on:{click:function(t){e.updateExcludedLogCategory(-1,e.checkChecked("category-none"))}}},[e._v("\n        No Category\n      ")])]),e._v(" "),e._l(e.categories,(function(t){return r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"category-"+t.tid,name:"log-categories"},domProps:{checked:!e.logDisplayFilters.excludedCategories.includes(t.tid)},on:{input:function(r){return e.updateExcludedLogCategory(t.tid,r.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedCategories.includes(t.tid)},attrs:{for:"log-categories"},on:{click:function(r){e.updateExcludedLogCategory(t.tid,e.checkChecked("category-"+t.tid))}}},[e._v("\n        "+e._s(t.name)+"\n      ")])])}))],2)])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},Urbk:function(e,t,r){},V0Zf:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},VDaX:function(e,t,r){},VDkx:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-item form-group col",attrs:{id:"date-form"}},[r("label",{staticClass:"control-label",attrs:{for:"date"}},[e._v("Date")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"date",type:"date",required:""},domProps:{value:e.time.date},on:{input:function(t){return e.updateDate(t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col",attrs:{id:"hour-form"}},[r("label",{staticClass:"control-label",attrs:{for:"hour"}},[e._v("Hour")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"hour",type:"number",min:"1",max:"12"},domProps:{value:e.time.hour},on:{input:function(t){return e.updateHour(t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col",attrs:{id:"minute-form"}},[r("label",{staticClass:"control-label",attrs:{for:"minute"}},[e._v("Min")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"minute",type:"number",min:"00",max:"59"},domProps:{value:e.time.minute},on:{input:function(t){return e.updateMinute(t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col",attrs:{id:"am-pm-form"}},[r("label",{staticClass:"control-label",attrs:{for:"am-pm"}}),e._v(" "),r("div",{staticClass:"form-item form-group",attrs:{id:"am-pm"}},[r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"is-am",name:"am-pm",type:"radio",value:"am"},domProps:{checked:e.time.am},on:{input:function(t){return e.updateAmPm(t.target.checked)}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"is-am"}},[e._v("AM")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"is-pm",name:"am-pm",type:"radio",value:"pm"},domProps:{checked:!e.time.am},on:{input:function(t){return e.updateAmPm(!t.target.checked)}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"is-pm"}},[e._v("PM")])])])])])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},VMdC:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-view",{attrs:{name:"menubar",logs:e.logs},on:{toggleDrawer:function(t){return e.$emit("toggleDrawer")},deleteCurrentLog:function(t){return e.openDeleteDialog(t)},syncAll:e.syncAll,resetDisplayFilters:e.resetDisplayFilters}}),e._v(" "),r("router-view",{attrs:{logTypes:e.logTypes,logs:e.sortLogsDescending(e.logs),areas:e.areas,assets:e.assets,useGeolocation:e.useGeolocation,units:e.units,categories:e.categories,equipment:e.equipment,userId:e.userId,logDisplayFilters:e.logDisplayFilters,systemOfMeasurement:e.systemOfMeasurement},on:{deleteLog:function(t){return e.openDeleteDialog(t)},addToExcludedTypes:function(t){return e.addToExcludedTypes(t)},removeFromExcludedTypes:function(t){return e.removeFromExcludedTypes(t)},addToExcludedCategories:function(t){return e.addToExcludedCategories(t)},removeFromExcludedCategories:function(t){return e.removeFromExcludedCategories(t)},setDateFilter:function(t){return e.setDateFilter(t)}}}),e._v(" "),e.showDeleteDialog?r("div",{staticClass:"modal",attrs:{id:"delete-dialog",tabindex:"-1",role:"dialog"}},[r("div",{staticClass:"modal-filter"}),e._v(" "),r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Confirm Deletion")]),e._v(" "),r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.cancelDelete}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])]),e._v(" "),r("div",{staticClass:"modal-body"},[e._v("\n          Are sure you'd like to delete the log \""+e._s(e.logToDelete.name)+'"?\n          '),e.logToDelete.wasPushedToServer?r("span",[e._v("\n            Deleting it on this device will not remove the log from the server.\n          ")]):r("span",[e._v("\n            It has not yet been synced to the server and cannot be recovered after it's deleted.\n          ")])]),e._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.cancelDelete}},[e._v("\n          Cancel\n        ")]),e._v(" "),r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.confirmDelete()}}},[e._v("\n          Delete\n        ")])])])])]):e._e()],1)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},Vq29:function(e,t,r){"use strict";r.r(t);var n=r("Blcz"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Vtdi:function(e,t,r){"use strict";var n=r("TqRt");r("27D/");var a=n(r("+gRR")),o=n(r("uDlK")),i=n(r("YMwY"));(0,a.default)("#app",[i.default,o.default]),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js")}))},WJUM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconCloudUpload"}},WQAz:function(e,t,r){"use strict";r.r(t);var n=r("YrXD"),a=r("PQGC");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},Wcwp:function(e,t,r){},WnpN:function(e,t,r){},WuNT:function(e,t,r){"use strict";r.r(t);var n=r("y76l"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},X0c8:function(e,t,r){"use strict";r.r(t);var n=r("0xFA"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},XF8I:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"FarmDrawerListItem"}},XRp1:function(e,t,r){"use strict";r.r(t);var n=r("V0Zf"),a=r("hd2R");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},XjmF:function(e,t,r){"use strict";r.r(t);var n=r("QpOz"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},XxOF:function(e,t,r){"use strict";var n=function(){var e=this.$createElement;return(this._self._c||e)("farm-map",{attrs:{id:"map",overrideStyles:{height:"calc(100vh - 3rem)"},drawing:!0,options:{controls:function(e){return e.filter((function(e){return"FullScreen"!==e.constructor.name}))},units:this.systemOfMeasurement},wkt:this.mapLayers,geojson:{title:"areas",url:this.areaGeoJSON,color:"grey"}},on:{"update-wkt":this.updateMovement}})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},Xxva:function(e,t,r){"use strict";r.r(t);var n=r("IPsp"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Y4wU:function(e,t,r){"use strict";r.r(t);var n=r("vR1B"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Y9kR:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("farm-menu-bar",{attrs:{more:!1},scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("li",{on:{click:function(t){return e.$emit("toggleDrawer")}}},[r("icon-menu")],1),e._v(" "),r("li",[e._v("Weather")])]},proxy:!0}])})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},YMwY:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("cC/z")),o=(0,window.farmOS.utils.createFieldModule)(a.default);t.default=o},YTVw:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"FarmAutocomplete",props:["objects","searchKey","searchId","label"],data:function(){return{search:"",searchResults:[],counter:0,isOpen:!1}},methods:{openResults:function(){this.isOpen=!0},doSearch:function(e){var t=[];if(""!==e)for(var r=e.toLowerCase(),n=0;n<this.objects.length;n+=1){var a=this.objects[n];a.name.toLowerCase().includes(r)&&t.length<10&&t.push(a)}this.searchResults=t,this.search=e},selectSearchResult:function(e){""!==e&&(this.$emit("results",e),this.search="",this.doSearch(this.search))},onArrowDown:function(){this.counter<this.searchResults.length-1&&(this.counter=this.counter+1)},onArrowUp:function(e){e.preventDefault(),this.counter>0&&(this.counter=this.counter-1)},onEnter:function(){var e=this.searchResults[this.counter][this.searchId];this.selectSearchResult(e)},handleClickOutside:function(e){this.$el.contains(e.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}};t.default=n},YUkG:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},YrXD:function(e,t,r){"use strict";var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{style:[this.defaultStyles,this.overrideStyles],attrs:{id:this.id}})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},Z61b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"HomescreenMenuBar"}},Z8HS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"FarmSelectBox",props:{id:String,selected:Boolean,label:String,small:Boolean},methods:{checkChecked:function(e){return!document.getElementById(this.id).checked}}};t.default=n},ZTW0:function(e,t,r){"use strict";r.r(t);var n=r("wPcA"),a=r("6nSO");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("h1Py");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"5d235772",null);t.default=s.exports},ZZju:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"AllLogsMenuBar",data:function(){return{showMore:!1}},methods:{resetDisplayFilters:function(){this.$emit("resetDisplayFilters")}}}},ZzOt:function(e,t,r){"use strict";r.r(t);var n=r("0zHl"),a=r("Xxva");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},aCyP:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"aG/g":function(e,t,r){"use strict";r.r(t);var n=r("dkHQ"),a=r("Y4wU");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("jDMh");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"025009c7",null);t.default=s.exports},aK4P:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconAssignmentDone"}},aPEs:function(e,t,r){"use strict";var n=r("EMEJ");r.n(n).a},aSyL:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("farm-menu-bar",{attrs:{more:!1},scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("router-link",{attrs:{to:e.logLink,tag:"li"}},[r("icon-arrow-back")],1),e._v(" "),r("li",[e._v("Map")])]},proxy:!0}])})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"cC/z":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("NVlx")),o=n(r("Ffyi")),i=n(r("fOoy")),s={name:"my-logs",drawer:o.default,widget:i.default,filters:{log:{log_owner:"SELF",done:!1}},routes:a.default};t.default=s},cKtl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconDelete"}},"cj+W":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"FarmToggleCheck",props:["label","labelPosition","checked"]}},cpXB:function(e,t,r){"use strict";r.r(t);var n=r("ibHX"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},dHxB:function(e,t,r){"use strict";r.r(t);var n=r("VMdC"),a=r("QYYL");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("n6hJ");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"3ccee13b",null);t.default=s.exports},dW6E:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconSync"}},dkHQ:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"html",attrs:{id:"app"}},[r("transition",{attrs:{name:"filter"}},[e.showDrawer?r("div",{staticClass:"modal-filter",on:{click:function(t){e.showDrawer=!e.showDrawer}}}):e._e()]),e._v(" "),r("transition",{attrs:{name:"drawer"}},[e.showDrawer?r("div",{staticClass:"drawer container-fluid"},[r("header",{staticClass:"drawer-header row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"arrow-back",on:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("icon-arrow-back")],1),e._v(" "),e.isLoggedIn?r("div",{staticClass:"user-info"},[r("h2",[e._v(e._s(e.farmName))]),e._v(" "),r("p",[e._v(e._s(e.farmUrl.replace(/(^\w+:|^)\/\//,"")))]),e._v(" "),r("p",[e._v(e._s(e.username))])]):r("div",{staticClass:"user-info"},[r("h2",[e._v("Welcome to farmOS")]),e._v(" "),r("p",[e._v("Login for more options.")])])])]),e._v(" "),r("module-menu-items",{attrs:{modules:e.modules},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}}),e._v(" "),r("farm-drawer-list",[r("router-link",{attrs:{to:"/homescreen"},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("farm-drawer-list-item",[e._v("Home")])],1),e._v(" "),r("farm-drawer-list-item",{attrs:{clickable:!1}},[r("farm-toggle-check",{attrs:{label:"Share My Location",labelPosition:"before",checked:e.useGeolocation},on:{input:function(t){return e.setUseGeolocation(t)}}})],1),e._v(" "),r("farm-drawer-list-item",{attrs:{clickable:!1}},[e._v("Version: "+e._s(e.version))]),e._v(" "),e.isLoggedIn?e._e():r("router-link",{attrs:{to:"/login"},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("farm-drawer-list-item",[e._v("Login")])],1),e._v(" "),e.isLoggedIn?r("router-link",{attrs:{to:"/logout"},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("farm-drawer-list-item",[e._v("Logout")])],1):e._e()],1)],1):e._e()]),e._v(" "),r("main",[r("section",[e._l(e.errors,(function(t,n){return r("div",{key:"err-"+e.errors.indexOf(t)},[t.show?r("div",{staticClass:"alert alert-warning alert-dismissable"},[r("span",{domProps:{innerHTML:e._s(t.message)}}),e._v(" "),r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.closeError(n)}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])]):e._e()])})),e._v(" "),r("div",{staticClass:"region region-content"},[r("div",{staticClass:"block block-system"},[r("router-view",{attrs:{name:"menubar"},on:{toggleDrawer:function(t){e.showDrawer=!e.showDrawer}}}),e._v(" "),r("router-view",{attrs:{useGeolocation:e.useGeolocation,userId:e.userId,systemOfMeasurement:e.systemOfMeasurement,logTypes:e.logTypes,logs:e.removeMetaData(e.logs),areas:e.areas,assets:e.assets,units:e.units,categories:e.categories,equipment:e.equipment},on:{toggleDrawer:function(t){e.showDrawer=!e.showDrawer}}})],1)])],2)])],1)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},dli4:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("7jSd")),o=n(r("kDGM")),i=n(r("eaIl")),s=n(r("GpR4")),u={name:"weather-form",drawer:i.default,widget:s.default,routes:[{name:"weather-form",path:"/weather",components:{default:a.default,menubar:o.default}}]};t.default=u},dpBA:function(e,t,r){},duu2:function(e,t,r){"use strict";r.r(t);var n=r("pUgF"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},eWlR:function(e,t,r){},eaIl:function(e,t,r){"use strict";r.r(t);r("EM7m");var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("farm-drawer-list",[t("router-link",{attrs:{to:{name:"weather-form"}}},[t("farm-drawer-list-item",[this._v("Record Weather Event")])],1)],1)}),[],!1,null,null,null);t.default=a.exports},efym:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("categories",{keyPath:"tid"}),t()}catch(e){r(e)}}))}}];t.default=n},enu1:function(e,t,r){"use strict";r.r(t);var n=r("Qsy8"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},f8sa:function(e,t,r){"use strict";r.r(t);var n=r("ICyo"),a=r("OBId");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},"fC+r":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.createSyncReducer=t.SyncError=void 0;var a=n(r("lSNA")),o=n(r("J4zp")),i=n(r("lwsE")),s=n(r("a1gu")),u=n(r("Nsbk")),l=n(r("7W2i")),c=n(r("oShl")),d=n(r("8pOr"));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=function(e){function t(){var e,r,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).responses,a=void 0===n?[]:n;(0,i.default)(this,t);for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return(r=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(l)))).name="SyncError",r.responses=a,r}return(0,l.default)(t,e),t}((0,c.default)(Error));t.SyncError=m;t.createSyncReducer=function(e){return function(t,r,n){var i=(0,o.default)(t,3),s=i[0],u=i[1],l=i[2],c={index:n,props:{}};if(r.isReadyToSync&&!r.wasPushedToServer){var m=d.default.reduce((function(t,n){var o=n(r,e);return o.syncable?(o.updateProps&&(c.props=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c.props,{},o.updateProps)),t):{syncable:!1,message:"".concat(t.message,"<br>- ").concat(o.reason)}}),{syncable:!0,message:'Could not sync "'.concat(r.name.data,'":')}),v=m.syncable,p=m.message;if(!v)return[s,u.concat({index:n,message:p}),l];var h=Object.values(c.props).length>0;return h&&(c.props.isCachedLocally=!1),[s.concat(n),u,h?l.concat(c):l]}return[s,u,l]}}},fDWo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("assets",{keyPath:"id"}),t()}catch(e){r(e)}}))}}];t.default=n},fOoy:function(e,t,r){"use strict";r.r(t);var n=r("uCj9"),a=r("FEfG");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("iMBb");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"6752fe55",null);t.default=s.exports},frBr:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"homescreen"}},[t("homescreen-widgets",{attrs:{modules:this.modules}})],1)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},fsLe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconOpenInNew"}},gbnA:function(e,t,r){},h1Py:function(e,t,r){"use strict";var n=r("PCqA");r.n(n).a},hKAu:function(e,t,r){"use strict";r.r(t);var n=r("iDyj"),a=r("Vq29");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},hd2R:function(e,t,r){"use strict";r.r(t);var n=r("aK4P"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},hdPq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("units",{keyPath:"tid"}),t()}catch(e){r(e)}}))}}];t.default=n},"hx+2":function(e,t,r){},i1sA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={actions:{getPhotoFromCamera:function(e,t){var r=e.dispatch;new Promise((function(e,t){var r={quality:50,destinationType:Camera.DestinationType.DATA_URL};navigator.camera.getPicture((function(t){e(t)}),(function(e){t(e)}),r)})).then((function(e){var n="data:image/jpeg;base64,".concat(e),a={images:t.images.concat(n),localID:t.localID};r("updateLog",a)}),(function(e){}))},loadPhotoBlob:function(e,t){var r=e.dispatch,n=t.file,a=t.log;(function(e){return new Promise((function(t,r){var n=new FileReader;n.onloadend=function(){return t(n.result)},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)}))})(n).then((function(e){var t={images:a.images.concat(e),localID:a.localID};r("updateLog",t)}))}}};t.default=n},iDyj:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("farm-menu-bar",{scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("router-link",{attrs:{to:{name:"logs"},tag:"li"}},[r("icon-arrow-back")],1),e._v(" "),r("li",[e._v("Edit Log")])]},proxy:!0},{key:"right-menu",fn:function(){return[e.currentLog.url?r("a",{attrs:{href:e.currentLog.url}},[r("li",[r("icon-open-in-new")],1)]):e._e(),e._v(" "),r("li",{on:{click:function(t){return e.$emit("deleteCurrentLog",+e.id)}}},[r("icon-delete")],1)]},proxy:!0},{key:"more-menu",fn:function(){return[""!==e.currentLog.url?r("a",{attrs:{href:e.currentLog.url}},[r("li",[e._v("Open in browser")])]):e._e(),e._v(" "),r("li",{on:{click:function(t){return e.$emit("deleteCurrentLog")}}},[e._v("\n      Delete from device\n    ")])]},proxy:!0}])})},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},iMBb:function(e,t,r){"use strict";var n=r("IEpG");r.n(n).a},iNlI:function(e,t,r){},iUy7:function(e,t,r){"use strict";r.r(t);var n=r("XxOF"),a=r("+mU5");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"4f981112",null);t.default=s.exports},iVBF:function(e,t,r){"use strict";r.r(t);var n=r("SrRO"),a=r("0caO");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},iZhE:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"card-group"},[e.logs.length<1?r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"},[e._v("Let's Get Started!")]),e._v(" "),r("p",{staticClass:"card-text"},[e._v("\n          You don't have any logs to display yet. Logs are records of events\n          in farmOS. You can add some by clicking the "),r("IconAddCircle",{staticClass:"inline-svg"}),e._v("\n          icon below, or you can get uncompleted tasks from the server by\n          clicking the "),r("IconCloudUpload",{staticClass:"inline-svg"}),e._v(" icon above.\n        ")],1)])]):e._e(),e._v(" "),e._l(e.logs,(function(t,n){return e.logs.length>0&&e.passesFilters(t)?r("div",{key:"card-"+n,staticClass:"card"},[r("router-link",{attrs:{to:{path:"/logs/"+t.localID}}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-row-1"},[t.done?r("icon-assignment-done",{staticClass:"assignment done"}):e._e(),e._v(" "),!t.done&&1e3*t.timestamp>(new Date).valueOf()?r("icon-assignment",{staticClass:"assignment"}):e._e(),e._v(" "),!t.done&&1e3*t.timestamp<(new Date).valueOf()?r("icon-assignment-late",{staticClass:"assignment late"}):e._e(),e._v(" "),r("div",{staticClass:"log-name"},[r("h5",[e._v(e._s(t.name))])]),e._v(" "),t.wasPushedToServer?r("icon-cloud-done",{staticClass:"sync-status"}):t.isReadyToSync?r("div",{staticClass:"spin sync-status",attrs:{"aria-hidden":"true"}},[r("icon-sync")],1):r("icon-cloud-upload",{staticClass:"sync-status"})],1),e._v(" "),r("div",{staticClass:"card-row-2"},[r("p",[e._v(e._s(e.parseNotes(t.notes)))])]),e._v(" "),r("div",{staticClass:"card-row-3"},[r("div",{staticClass:"date-and-type"},[r("span",{staticClass:"log-type"},[e._v(e._s(e.logTypes[t.type].label.toUpperCase()))]),e._v(" "),r("span",[e._v(e._s(e.showDate(t.timestamp)))])]),e._v(" "),r("div",{staticClass:"tags"},[e._l(e.mapTidsToAreas(t),(function(t,n){return r("span",{key:"area-"+n,staticClass:"tag tag-area"},[e._v("\n                "+e._s(t.name)+"\n              ")])})),e._v(" "),e._l(e.mapIdsToAssets(t),(function(t,n){return r("span",{key:"asset-"+n,staticClass:"tag tag-asset"},[e._v("\n                "+e._s(t.name)+"\n              ")])}))],2)])])])],1):e._e()}))],2),e._v(" "),r("div",{staticClass:"add-circle",on:{click:e.startNewLog}},[r("div",{staticClass:"background-circle"}),e._v(" "),r("icon-add-circle")],1)])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},ibHX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconEdit"}},jDMh:function(e,t,r){"use strict";var n=r("Urbk");r.n(n).a},jXeP:function(e,t,r){"use strict";var n=r("6+MM");r.n(n).a},jqhR:function(e,t,r){"use strict";r.r(t);var n=r("Pgdv"),a=r("oTXw");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},jqxu:function(e,t,r){"use strict";r.r(t);var n=r("mKZZ"),a=r("9Urz");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("28sl");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!0,null,"e033cb74",null);t.default=s.exports},"k+eO":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},kDGM:function(e,t,r){"use strict";r.r(t);var n=r("Y9kR"),a=r("xsHB");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},kQDD:function(e,t,r){"use strict";r.r(t);var n=r("9n8D"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},kS0b:function(e,t,r){"use strict";r.r(t);var n=r("l6rr"),a=r("SLuX");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("4JU/");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"a964f552",null);t.default=s.exports},kiQV:function(e){e.exports=JSON.parse('{"name":"farmos-client","version":"0.4.15","description":"Client app for farmOS!","author":"farmOS team","license":"GPLv3","private":true,"scripts":{"dev":"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js","start":"npm run dev","lint":"eslint --color --ext .js,.vue src test/unit | less -R","lint-files":"node --eval \'process.argv.reduce((acc, cur) => `${acc} ${cur}`, ``)\' | eslint --color","build:web":"node build/build.js","build:native":"node build/build.js --native","test":"mocha-webpack --webpack-config build/webpack.test.conf.js --require test-setup.js src/**/*.test.js --watch"},"dependencies":{"@turf/turf":"^5.1.6","cordova-android":"^8.1.0","cordova-ios":"^4.5.5","cordova-plugin-camera":"^4.1.0","cordova-plugin-file":"^6.0.2","cordova-plugin-geolocation":"^4.0.2","cordova-plugin-ios-camera-permissions":"^1.2.0","cordova-plugin-network-information":"^2.0.2","cordova-plugin-splashscreen":"^5.0.3","cordova-plugin-whitelist":"^1.3.4","core-js-pure":"^3.4.7","farmOS-map":"github:farmOS/farmOS-map#v1.0.0","farmos":"0.0.9","ramda":"^0.27.0","vue":"^2.6.10","vue-router":"^3.1.3","vuex":"^3.1.2","wellknown":"^0.5.0"},"devDependencies":{"@babel/core":"^7.8.4","@babel/plugin-proposal-optional-chaining":"^7.8.3","@babel/plugin-syntax-jsx":"^7.8.3","@babel/plugin-transform-runtime":"^7.8.3","@babel/preset-env":"^7.8.4","@vue/babel-helper-vue-jsx-merge-props":"^1.0.0","@vue/babel-plugin-transform-vue-jsx":"^1.1.2","@vue/test-utils":"^1.0.0-beta.30","autoprefixer":"^7.1.2","babel-eslint":"^8.2.6","babel-loader":"^8.0.6","babel-plugin-transform-vue-jsx":"^4.0.1","chalk":"^2.4.2","commander":"^2.20.3","copy-webpack-plugin":"^4.6.0","css-loader":"^3.2.1","eslint":"^4.19.1","eslint-config-airbnb-base":"^13.2.0","eslint-friendly-formatter":"^3.0.0","eslint-import-resolver-webpack":"^0.10.1","eslint-loader":"^1.7.1","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^5.2.0","eslint-plugin-promise":"^3.8.0","eslint-plugin-vue":"^4.7.1","expect":"^24.9.0","file-loader":"^1.1.11","friendly-errors-webpack-plugin":"^1.7.0","html-webpack-plugin":"^3.2.0","jsdom":"^15.2.1","jsdom-global":"^3.0.2","mini-css-extract-plugin":"^0.5.0","mocha":"^6.2.2","mocha-webpack":"^2.0.0-beta.0","node-notifier":"^5.4.3","object.fromentries":"^2.0.2","optimize-css-assets-webpack-plugin":"^5.0.3","ora":"^1.2.0","portfinder":"^1.0.25","postcss-import":"^11.1.0","postcss-loader":"^2.1.6","postcss-url":"^7.3.2","rimraf":"^2.7.1","semver":"^5.7.1","shelljs":"^0.7.6","url-loader":"^1.1.2","vue-loader":"^15.7.2","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.6.10","webpack":"^4.41.2","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.10","webpack-dev-server":"^3.9.0","webpack-merge":"^4.2.2","webpack-node-externals":"^1.7.2","workbox-webpack-plugin":"^4.3.1"},"engines":{"node":">= 6.0.0","npm":">= 3.0.0"},"browserslist":["> 1%","last 2 versions","not ie <= 8"],"cordova":{"plugins":{"cordova-plugin-whitelist":{},"cordova-plugin-network-information":{},"cordova-plugin-camera":{"CAMERA_USAGE_DESCRIPTION":"farmOS would like access to the camera","PHOTOLIBRARY_USAGE_DESCRIPTION":"farmOS would like access to the camera"},"cordova-plugin-ios-camera-permissions":{"CAMERA_USAGE_DESCRIPTION":"This app needs camera access","MICROPHONE_USAGE_DESCRIPTION":"This app needs microphone access","PHOTOLIBRARY_ADD_USAGE_DESCRIPTION":"This app needs write-access to photo library","PHOTOLIBRARY_USAGE_DESCRIPTION":"This app needs read/write-access photo library access"},"cordova-plugin-file":{},"cordova-plugin-geolocation":{},"cordova-plugin-splashscreen":{}},"platforms":["ios","android"]}}')},l6rr:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container-fluid"},[this._m(0),this._v(" "),t("div",{staticClass:"row justify-content-sm-center"},[t("div",{staticClass:"col col-sm-auto",attrs:{id:"go-back"}},[t("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"button",name:"button"},on:{click:this.goBack}},[this._v("\n        Go Back\n      ")])]),this._v(" "),t("div",{staticClass:"col col-sm-auto"},[t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",name:"button"},on:{click:this.logout}},[this._v("\n        Logout\n      ")])])])])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row",attrs:{id:"first-row"}},[t("div",{staticClass:"col"},[t("div",{staticClass:"card text-primary border-primary mb-3"},[t("div",{staticClass:"card-body"},[t("h4",{staticClass:"card-title"},[this._v("WARNING!")]),this._v(" "),t("p",{staticClass:"card-text"},[this._v("\n            Logging out will permanently delete all logs stored on this device.\n            You will not be able to recover logs which have not been synced with\n            your farmOS server. Go back to sync any unsaved logs, or proceed to\n            logout and clear all data from this device.\n          ")])])])])])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},lWUC:function(e,t,r){"use strict";var n=r("P4xX");r.n(n).a},"m/WR":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},m9Ub:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},mKZZ:function(e,t,r){"use strict";var n=function(e,t){return(0,t._c)("li",{staticClass:"list-group-item",class:{clickable:void 0===t.props.clickable||t.props.clickable}},[t._t("default")],2)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},maL5:function(e,t,r){},misW:function(e,t,r){"use strict";r.r(t);var n=r("xyxk"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},msIg:function(e,t,r){"use strict";var n=r("iNlI");r.n(n).a},n4yk:function(e,t,r){},n6hJ:function(e,t,r){"use strict";var n=r("xvsX");r.n(n).a},nDdP:function(e,t,r){"use strict";r.r(t);var n=r("WJUM"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},nav2:function(e,t,r){"use strict";r.r(t);var n=r("QSd+"),a=r("uPms");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},o83v:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("ky0s")),o={name:"Logs",data:function(){return{showDeleteDialog:!1,logIDToDelete:null,logDisplayFilters:{date:"ALL_TIME",excludedTypes:[],excludedCategories:[]}}},props:["useGeolocation","userId","systemOfMeasurement","logTypes","logs","areas","assets","units","categories","equipment"],created:function(){this.clearDisplayFilters(),this.loadCachedDisplayFilters()},methods:{sortLogsDescending:function(e){return(0,a.default)((function(e,t){return t.timestamp-e.timestamp}),e)},openDeleteDialog:function(e){this.showDeleteDialog=!0,this.logIDToDelete=e},cancelDelete:function(){this.showDeleteDialog=!1},confirmDelete:function(){this.$store.commit("deleteLog",this.logIDToDelete),this.showDeleteDialog=!1,"edit-log"===this.$route.name&&this.$router.push({path:"/logs"})},syncAll:function(){this.$store.dispatch("syncAllLogs"),this.$store.dispatch("updateAssets"),this.$store.dispatch("updateAreas"),this.$store.dispatch("updateUnits"),this.$store.dispatch("updateCategories")},addToExcludedTypes:function(e){var t=this.logDisplayFilters.excludedTypes.concat(e);this.logDisplayFilters.excludedTypes=t,localStorage.setItem("excludedTypes",JSON.stringify(t))},removeFromExcludedTypes:function(e){var t=this.logDisplayFilters.excludedTypes.filter((function(t){return e!==t}));this.logDisplayFilters.excludedTypes=t,localStorage.setItem("excludedTypes",JSON.stringify(t))},addToExcludedCategories:function(e){var t=this.logDisplayFilters.excludedCategories.concat(e);this.logDisplayFilters.excludedCategories=t,localStorage.setItem("excludedCategories",JSON.stringify(t))},removeFromExcludedCategories:function(e){var t=this.logDisplayFilters.excludedCategories.filter((function(t){return e!==t}));this.logDisplayFilters.excludedCategories=t,localStorage.setItem("excludedCategories",JSON.stringify(t))},setDateFilter:function(e){this.logDisplayFilters.date=e,localStorage.setItem("dateFilter",e)},clearDisplayFilters:function(){this.logDisplayFilters={date:"ALL_TIME",excludedTypes:[],excludedCategories:[]}},loadCachedDisplayFilters:function(){var e=this,t=JSON.parse(localStorage.getItem("excludedTypes")),r=JSON.parse(localStorage.getItem("excludedCategories")),n=localStorage.getItem("dateFilter");null!==t&&t.forEach((function(t){return e.addToExcludedTypes(t)})),null!==r&&r.forEach((function(t){return e.addToExcludedCategories(t)})),null!==n&&this.setDateFilter(n)},resetDisplayFilters:function(){this.clearDisplayFilters(),localStorage.setItem("excludedTypes","[]"),localStorage.setItem("excludedCategories","[]"),localStorage.setItem("dateFilter","ALL_TIME")}},computed:{logToDelete:function(){var e=this;return this.logs.find((function(t){return t.localID===e.logIDToDelete}))}}};t.default=o},oOIJ:function(e,t,r){"use strict";r.r(t);var n=r("Ipvj"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},oTXw:function(e,t,r){"use strict";r.r(t);var n=r("ZZju"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},obQl:function(e,t,r){"use strict";var n=r("VDaX");r.n(n).a},pGhP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconCloudDone"}},pUgF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={methods:{openNewLog:function(){var e=this;this.$store.dispatch("initializeLog",{modules:["my-logs"],done:!0}).then((function(t){return e.$router.push({path:"/logs/".concat(t)})}))}}}},pXyp:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid"},[r("br"),e._v(" "),null!==e.currentLogID?r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[e._v("Record a weather event")]),e._v(" "),r("div",{staticClass:"card-body"},[r("farm-date-time-form",{attrs:{timestamp:e.currentLog.timestamp},on:{input:function(t){return e.updateCurrentLog("timestamp",t)}}}),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-item form-group col"},[r("label",{staticClass:"control-label",attrs:{for:"precip-amt"}},[e._v("\n            Precipitation amount ("+e._s(e.unitAbbr)+")\n          ")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"precip-amt",type:"number",min:"0"},domProps:{value:e.currentLog.quantity[0].value},on:{input:function(t){return e.updateQuantity("value",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col"},[r("label",{staticClass:"control-label",attrs:{for:"precip-type"}},[e._v("Precipitation Type")]),e._v(" "),r("div",{staticClass:"form-item form-group",attrs:{id:"precip-type"}},[r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"precip-type-rain",name:"precip-type",type:"radio",value:"rain"},domProps:{checked:"rain"===e.currentLog.quantity[0].label},on:{input:function(t){return e.updateQuantity("label",t?"rain":"snow")}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"precip-type-rain"}},[e._v("Rain")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"precip-type-snow",name:"precip-type",type:"radio",value:"snow"},domProps:{checked:"snow"===e.currentLog.quantity[0].label},on:{input:function(t){return e.updateQuantity("label",t?"snow":"rain")}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"precip-type-snow"}},[e._v("Snow")])])])])]),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-item form-group col"},[r("label",{staticClass:"control-label",attrs:{for:"notes"}},[e._v("Notes")]),e._v(" "),r("textarea",{staticClass:"form-textarea form-control",attrs:{id:"notes",placeholder:"Enter notes"},domProps:{value:e.parseNotes(e.currentLog.notes)},on:{input:function(t){return e.updateNotes(t.target.value)}}})])])],1)]):e._e(),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[e._v("Past weather events")]),e._v(" "),r("div",{staticClass:"card-body"},[r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("td",{attrs:{colspan:"4"},on:{click:e.createWeatherLog}},[r("div",{staticClass:"add-wrapper"},[r("icon-add-circle")],1),e._v(" "),r("em",[e._v("Add a new weather event.")])])]),e._v(" "),e._l(e.logs,(function(t){return r("tr",{key:"log-"+t.localID,on:{click:function(r){e.currentLogID=t.localID}}},[r("th",{attrs:{scope:"row"}},[e._v("\n              "+e._s(new Date(1e3*t.timestamp).toLocaleDateString(void 0,{dateStyle:"medium"}))+"\n            ")]),e._v(" "),r("td",[e._v("\n              "+e._s(new Date(1e3*t.timestamp).toLocaleTimeString(void 0,{timeStyle:"short"}))+"\n            ")]),e._v(" "),t.quantity[0]?r("td",[e._v(e._s(t.quantity[0].value+" "+e.unitAbbr))]):e._e(),e._v(" "),t.quantity[0]&&"snow"===t.quantity[0].label?r("td",[r("icon-snowflake")],1):e._e(),e._v(" "),t.quantity[0]&&"rain"===t.quantity[0].label?r("td",[r("icon-raindrops")],1):e._e()])}))],2)])])])])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},pe4y:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.label&&"before"===e.labelPosition?r("label",[e._v(e._s(e.label)+"")]):e._e(),e._v(" "),r("input",{staticClass:"toggle-check",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{input:function(t){return e.$emit("input",t.target.checked)}}}),e._v(" "),e.label&&"after"===e.labelPosition?r("label",[e._v(e._s(e.label)+"")]):e._e()])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},pf9Y:function(e,t,r){"use strict";var n=function(e,t){return(0,t._c)("ul",{staticClass:"row list-group drawer"},[t._t("default")],2)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},ptHn:function(e,t,r){"use strict";r.r(t);var n=r("07RZ"),a=r("1p3d");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("+swM");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"7932212a",null);t.default=s.exports},qF9E:function(e,t,r){"use strict";var n=r("Wcwp");r.n(n).a},qWsX:function(e,t,r){"use strict";r.r(t);var n=r("TOFo"),a=r("FhkT");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("lWUC");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"448ffca4",null);t.default=s.exports},qkye:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"FarmWidget"}},rb3z:function(e,t,r){"use strict";var n=function(e,t){return(0,t._c)("div",{staticClass:"widget"},[t._t("default")],2)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},s6Nv:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}})])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},sGXG:function(e,t,r){"use strict";r.r(t);var n=r("qkye"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},sH3d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={farm_activity:{label:"Activity",label_plural:"Activities",fields:{area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:[]},asset:{label:"Assets",type:"entityreference",required:0,default_value:[]},files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},notes:{label:"Notes",type:"text_long",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},membership:{label:"Group membership",type:"field_collection",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}},farm_harvest:{label:"Harvest",label_plural:"Harvests",fields:{files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},notes:{label:"Notes",type:"text_long",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},asset:{label:"Assets",type:"entityreference",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},lot_number:{label:"Harvest lot number",type:"text",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}},farm_input:{label:"Input",label_plural:"Inputs",fields:{area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:[]},files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},input_method:{label:"Application method",type:"text",required:0,default_value:null},input_purpose:{label:"Purpose",type:"text",required:0,default_value:null},input_source:{label:"Source/manufacturer",type:"text",required:0,default_value:null},material:{label:"Materials",type:"taxonomy_term_reference",required:0,default_value:null},notes:{label:"Notes",type:"text_long",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},asset:{label:"Assets",type:"entityreference",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},lot_number:{label:"Input lot number",type:"text",required:0,default_value:null},date_purchase:{label:"Date purchased",type:"datestamp",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}},farm_observation:{label:"Observation",label_plural:"Observations",fields:{area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:[]},asset:{label:"Assets",type:"entityreference",required:0,default_value:[]},files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},notes:{label:"Notes",type:"text_long",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},membership:{label:"Group membership",type:"field_collection",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}}}},sS7H:function(e,t,r){"use strict";r.r(t);var n=r("CwT7"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},sXfw:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var i={state:{errors:[],user:{name:"",email:"",uid:null,isLoggedIn:!1},farmInfo:{name:"",url:""},systemOfMeasurement:"metric",logTypes:n(r("sH3d")).default,currentModule:"",modules:[],mapboxAPIKey:"",settings:{useGeolocation:!0}},mutations:{logError:function(e,t){e.errors=e.errors.concat([t])},dismissError:function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.errors[t],{show:!1});e.errors.splice(t,1,r)},changeUsername:function(e,t){e.user.name=t},changeEmail:function(e,t){e.user.email=t},changeUid:function(e,t){e.user.uid=t},changeFarmName:function(e,t){e.farmInfo.name=t},changeFarmUrl:function(e,t){e.farmInfo.url=t},changeMapboxAPIKey:function(e,t){e.mapboxAPIKey=t},changeSystemOfMeasurement:function(e,t){e.systemOfMeasurement=t},changeLogTypes:function(e,t){e.logTypes=t},setLoginStatus:function(e,t){e.user.isLoggedIn=t},setUseGeolocation:function(e,t){e.settings.useGeolocation=t},updateModule:function(e,t){var r=e.modules.findIndex((function(e){return e.name===t.name}));r>-1?e.modules.splice(r,1,t):e.modules.push(t)},setCurrentModule:function(e,t){e.currentModule=t}}};t.default=i},sdek:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("8hbF")),i=r("CN6I"),s=n(r("5FK+")),u=(0,a.default)(s.default.stores,5),l=u[0],c=u[1],d=u[2],f=u[3],m=u[4],v={actions:{updateCachedLog:function(e,t){var r=e.commit,n=e.rootState;(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,l.name,t)})).then((function(){var e=(0,(0,o.default)(n.shell.logTypes).updateLog)(t,{isCachedLocally:!0});r("addLogs",e)})).catch(console.error)},loadCachedLogs:function(e){var t=e.commit,r=e.getters,n=e.rootState,a=r.logFilters,s=(0,o.default)(n.shell.logTypes).updateLog,u=function(e){var t;if(null===a)t=!1;else{var r=a.type,o=a.done,i=void 0===a.log_owner||null===e.log_owner.data||0===e.log_owner.data.length||e.log_owner.data.some((function(e){return+e.id==+a.log_owner})),s=void 0===r||r.includes(e.type.data),u=void 0===o||e.done.data===!!o;t=i&&s&&u}return!!e.modules&&e.modules.includes(n.shell.currentModule)||t};(0,i.openDatabase)().then((function(e){return(0,i.getRecords)(e,l.name,u)})).then((function(e){var r=e.map((function(e){return s(e,{isCachedLocally:!0})}));t("addLogs",r)})).catch(console.error)},generateLogID:function(){return(0,i.openDatabase)().then((function(e){return(0,i.generateLocalID)(e,l.name)})).catch(console.error)},deleteCachedLog:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.deleteRecord)(e,l.name,t)})).catch(console.error)},deleteAllCachedLogs:function(){(0,i.openDatabase)().then((function(e){return(0,i.clearStore)(e,l.name)})).catch(console.error)},createCachedAsset:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,c.name,t)})).catch(console.error)},updateCachedAsset:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,c.name,t)})).catch(console.error)},deleteAllCachedAssets:function(){(0,i.openDatabase)().then((function(e){return(0,i.clearStore)(e,c.name)})).catch(console.error)},loadCachedAssets:function(e){var t=e.commit;(0,i.openDatabase)().then((function(e){return(0,i.getRecords)(e,c.name)})).then((function(e){t("addAssets",e)})).catch(console.error)},createCachedArea:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,d.name,t)})).catch(console.error)},updateCachedArea:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,d.name,t)})).catch(console.error)},deleteAllCachedAreas:function(){(0,i.openDatabase)().then((function(e){return(0,i.clearStore)(e,d.name)})).catch(console.error)},loadCachedAreas:function(e){var t=e.commit;(0,i.openDatabase)().then((function(e){return(0,i.getRecords)(e,d.name)})).then((function(e){t("addAreas",e)})).catch(console.error)},createCachedUnit:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,f.name,t)})).catch(console.error)},updateCachedUnit:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,f.name,t)})).catch(console.error)},deleteAllCachedUnits:function(){(0,i.openDatabase)().then((function(e){return(0,i.clearStore)(e,f.name)})).catch(console.error)},loadCachedUnits:function(e){var t=e.commit;(0,i.openDatabase)().then((function(e){return(0,i.getRecords)(e,f.name)})).then((function(e){t("addUnits",e)})).catch(console.error)},createCachedCategory:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,m.name,t)})).catch(console.error)},updateCachedCategory:function(e,t){(0,i.openDatabase)().then((function(e){return(0,i.saveRecord)(e,m.name,t)})).catch(console.error)},deleteAllCachedCategories:function(){(0,i.openDatabase)().then((function(e){return(0,i.clearStore)(e,m.name)})).catch(console.error)},loadCachedCategories:function(e){var t=e.commit;(0,i.openDatabase)().then((function(e){return(0,i.getRecords)(e,m.name)})).then((function(e){t("addCategories",e)})).catch(console.error)}}};t.default=v},ssaN:function(e,t,r){"use strict";r.r(t);var n=r("k+eO"),a=r("oOIJ");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},t3JH:function(e,t,r){"use strict";r.r(t);var n=r("CyCD"),a=r("01Bq");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},tElN:function(e,t,r){"use strict";r.r(t);var n=r("3sS4"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},tGHH:function(e,t,r){"use strict";r.r(t);var n=r("PHOj"),a=r("4zNT");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},"tuT/":function(e,t,r){"use strict";r.r(t);var n=r("YUkG"),a=r("SSbN");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},uCj9:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("farm-widget",[t("h4",{staticClass:"card-title"},[this._v("My Logs Widget")]),this._v(" "),t("h5",{staticClass:"clickable",on:{click:this.openMyLogs}},[this._v("\n    All Logs\n    "),t("IconAssignment",{staticClass:"inline-svg"})],1),this._v(" "),t("h5",{staticClass:"clickable",on:{click:this.openFilter}},[this._v("\n    Filter Logs\n    "),t("IconFilter",{staticClass:"inline-svg"})],1)])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},uDlK:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("dli4")),o=(0,window.farmOS.utils.createFieldModule)(a.default);t.default=o},uJs5:function(e,t,r){"use strict";var n=r("0MDe");r.n(n).a},uPDU:function(e,t,r){"use strict";var n=r("hx+2");r.n(n).a},uPms:function(e,t,r){"use strict";r.r(t);var n=r("dW6E"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},uh7k:function(e,t,r){"use strict";r.r(t);var n=r("VDkx"),a=r("/kra");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("E+Eo");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},uoCx:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("farm-widget",[t("h4",{staticClass:"card-title"},[this._v("Weather Widget")]),this._v(" "),t("h5",{staticClass:"clickable",on:{click:this.openWeather}},[this._v("\n    Log Weather\n    "),t("IconRaindrops",{staticClass:"inline-svg"})],1)])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"uw+V":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"navbar navbar-light fixed-top"},[r("ul",{staticClass:"left-menu"},[e._t("left-menu")],2),e._v(" "),r("ul",{staticClass:"right-menu"},[e._t("right-menu"),e._v(" "),e.more?r("li",{attrs:{id:"more-trigger"},on:{click:e.openMoreMenu}},[r("icon-more-vert")],1):e._e()],2),e._v(" "),e.showMore?r("ul",{attrs:{id:"more-menu"}},[e._t("more-menu")],2):e._e()])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},"v/zI":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"WeatherMenuBar"}},v7KQ:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("farm-drawer-list",[t("router-link",{attrs:{to:{name:"logs"}}},[t("farm-drawer-list-item",[this._v("My Logs")])],1),this._v(" "),t("farm-drawer-list-item",{on:{click:this.openNewLog}},[this._v("New Log")])],1)},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},vQA9:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:e.id,name:e.id},domProps:{checked:e.selected}}),e._v(" "),r("label",{class:[{selected:e.selected},{small:e.small}],attrs:{for:e.id},on:{click:function(t){e.$emit("input",e.checkChecked(e.id))}}},[e._v("\n    "+e._s(e.label)+"\n  ")])])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},vR1B:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("cDf5")),i=n(r("J4zp")),s=n(r("oCYn")),u=r("L2JU"),l=r("kiQV");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var d={name:"App",components:{ModuleMenuItems:s.default.component("module-menu-items",{render:function(e){var t=this;return e("div",this.modules.map((function(r){return e("".concat(r.name,"-drawer-items"),{nativeOn:{click:function(){t.$store.commit("setCurrentModule",r.name),t.$store.commit("filterLogs",(function(e){return e.modules.includes(r.name)})),t.$store.dispatch("loadCachedLogs")}}})})))},props:{modules:{type:Array,required:!0}}})},data:function(){return{showDrawer:!1,version:l.version}},created:function(){this.$store.commit("setCurrentModule",this.$route.meta.module),this.$store.dispatch("loadCachedUserAndSiteInfo"),this.$store.dispatch("updateUserAndSiteInfo"),this.$store.dispatch("loadCachedLogs"),this.$store.dispatch("loadCachedAssets"),this.$store.dispatch("loadCachedAreas"),this.$store.dispatch("loadCachedUnits"),this.$store.dispatch("loadCachedCategories")},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,u.mapState)({errors:function(e){return e.shell.errors},username:function(e){return e.shell.user.name},userId:function(e){return e.shell.user.uid},isLoggedIn:function(e){return e.shell.user.isLoggedIn},useGeolocation:function(e){return e.shell.settings.useGeolocation},systemOfMeasurement:function(e){return e.shell.systemOfMeasurement},logTypes:function(e){return e.shell.logTypes},farmName:function(e){return e.shell.farmInfo.name},farmUrl:function(e){return""===e.shell.farmInfo.url?"example.farmos.net":e.shell.farmInfo.url},modules:function(e){return e.shell.modules},logs:function(e){return e.farm.logs},areas:function(e){return e.farm.areas},assets:function(e){return e.farm.assets},units:function(e){return e.farm.units},categories:function(e){return e.farm.categories}}),{},(0,u.mapGetters)(["equipment"])),watch:{showDrawer:function(e){e?document.querySelector("body").setAttribute("style","overflow-y: hidden"):document.querySelector("body").setAttribute("style","overflow-y: visible")},$route:function(e){this.$store.commit("setCurrentModule",e.meta.module)}},methods:{closeError:function(e){this.$store.commit("dismissError",e)},setUseGeolocation:function(e){this.$store.commit("setUseGeolocation",e)},removeMetaData:function(e){return e.map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=(0,i.default)(e,2),r=t[0],n=t[1];return"object"===(0,o.default)(n)&&"data"in n?[r,n.data]:[r,n]})))}))}}};t.default=d},vaye:function(e,t,r){},w83w:function(e,t,r){"use strict";r.r(t);var n=r("Z61b"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},wPcA:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("div",{staticClass:"input-group"},[e._m(0),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.farmosUrl,expression:"farmosUrl"}],staticClass:"form-control",attrs:{placeholder:"Enter your farmOS URL",autofocus:"",type:"url",autocomplete:"url"},domProps:{value:e.farmosUrl},on:{input:[function(t){t.target.composing||(e.farmosUrl=t.target.value)},e.checkValues]}})]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{placeholder:"Enter your username",type:"text",autocomplete:"username"},domProps:{value:e.username},on:{input:[function(t){t.target.composing||(e.username=t.target.value)},e.checkValues]}})]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Enter your password",type:"password",autocomplete:"current-password"},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},e.checkValues]}})]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"input-group login-submit"},[e.authPending?r("div",[r("icon-spinner")],1):r("button",{staticClass:"btn btn-success btn-navbar",attrs:{disabled:!this.valuesEntered,title:"Submit credentials",type:"button"},on:{click:e.submitCredentials}},[e._v("\n      Submit credentials\n    ")])]),e._v(" "),r("br"),e._v(" "),e._m(1)])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("https://")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Need a server? Check out "),t("a",{attrs:{href:"https://farmos.org/hosting/"}},[this._v("hosting options")]),this._v(".")])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},x2qs:function(e,t,r){"use strict";r.r(t);var n=r("iZhE"),a=r("enu1");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("BLFd");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"18112510",null);t.default=s.exports},xOiI:function(e,t,r){"use strict";r.r(t);var n=r("vQA9"),a=r("PYhv");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("aPEs");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"5675d287",null);t.default=s.exports},"xSU/":function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"spinner",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("g",[t("circle",{staticClass:"path",attrs:{cx:"12",cy:"12",r:"10",fill:"none","stroke-width":"3"}})])])},a=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},xf1p:function(e,t,r){},xsHB:function(e,t,r){"use strict";r.r(t);var n=r("v/zI"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},xvsX:function(e,t,r){},xyxk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconExpandLess"}},y76l:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconAddCircle"}},"yI/5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterAndSort=t.sortByVersion=t.runUpgrades=void 0;t.runUpgrades=function e(t){return function(r){if(r.length>0){var n=r.slice(1);return Promise.resolve(r[0].onUpgrade(t)).then((function(){return e(t)(n)}))}}};var n=function e(t,r){if(!r)return t;var n=t[t.length-1],a=t.slice(0,t.length-1);return t.length<1||r.version>n.version?t.concat(r):e(a,r).concat(n)};t.sortByVersion=n;t.filterAndSort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,r){return r.version>e?n(t,r):t}}},yVfK:function(e,t,r){"use strict";r.r(t);var n=r("frBr"),a=r("XjmF");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("jXeP");var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,"41dfa28c",null);t.default=s.exports},"z+16":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return function(t){var r=t.type,n=t.payload;"addLogs"===r&&!1===n.isCachedLocally&&e.dispatch("updateCachedLog",n),"deleteLog"===r&&e.dispatch("deleteCachedLog",n),"addAssets"===r&&n.forEach((function(t){e.dispatch("createCachedAsset",t)})),"deleteAllAssets"===r&&e.dispatch("deleteAllCachedAssets"),"addAreas"===r&&n.forEach((function(t){e.dispatch("createCachedArea",t)})),"deleteAllAreas"===r&&e.dispatch("deleteAllCachedAreas"),"addUnits"===r&&n.forEach((function(t){e.dispatch("createCachedUnit",t)})),"deleteAllUnits"===r&&e.dispatch("deleteAllCachedUnits"),"addCategories"===r&&n.forEach((function(t){e.dispatch("createCachedCategory",t)})),"deleteAllCategories"===r&&e.dispatch("deleteAllCachedCategories"),"addEquipment"===r&&n.forEach((function(t){e.dispatch("createCachedEquipment",t)})),"deleteAllEquipment"===r&&e.dispatch("deleteAllCachedEquipment"),"setUseGeolocation"===r&&localStorage.setItem("useGeolocation",n)}};t.default=n},"zBQ/":function(e,t,r){"use strict";r.r(t);var n=r("aCyP"),a=r("misW");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var i=r("KHd+"),s=Object(i.a)(a.default,n.a,n.b,!1,null,null,null);t.default=s.exports},zgIP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"IconArrowBack"}}});
//# sourceMappingURL=app.3806f25efe2ec51547bb.js.map